{
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _env = require(\"./env\");\n\nvar _db = require(\"./db\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _bcryptjs = require(\"bcryptjs\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\napp.use(_express.default.json());\n\nconst bodyParser = require(\"body-parser\");\n\napp.use(bodyParser.json());\napp.use(_express.default.static(_path.default.resolve(__dirname, \"../public\"))); // REQUISIÇÕES BÁSICAS\n\napp.get(\"/properties\", async (req, res) => {\n  const filter = req.query;\n\n  if (filter) {\n    const properties = await (0, _db.getPropertiesWithFilter)(filter);\n    res.json(properties);\n  } else {\n    const properties = await (0, _db.getProperties)();\n    res.json(properties);\n  }\n}); // REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\n\napp.post(\"/login\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await (0, _db.login)(username, password);\n    res.json({\n      ok: true,\n      data: {\n        username: l.username,\n        name: l.name\n      }\n    });\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao efetuar login.\"\n    });\n  }\n}); // requisição para fazer troca de senha\n\napp.post(\"/reset\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await (0, _db.reset)(username, password);\n    res.json({\n      ok: true\n    });\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao atualizar senha.\"\n    });\n  }\n}); // requisição para cadastrar imóvel\n\napp.post(\"/property\", async (req, res) => {\n  const {\n    nrInscricao,\n    titulo,\n    img,\n    endereco,\n    tipo,\n    nrDormitorios,\n    nrBanheiros,\n    nrVagas,\n    valor\n  } = req.body;\n\n  if (nrInscricao && img && titulo && endereco && tipo && nrDormitorios && nrBanheiros && nrVagas && valor) {\n    const p = await (0, _db.addProperty)(nrInscricao, titulo, img, endereco, tipo, nrDormitorios, nrBanheiros, nrVagas, valor);\n\n    if (p) {\n      res.json({\n        ok: true\n      });\n    } else {\n      res.json({\n        ok: false,\n        message: \"Já existe um imóvel com este número de inscrição.\"\n      });\n    }\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao inserir imóvel.\"\n    });\n  }\n}); // requisição para alterar situação de um imóvel\n\napp.post(\"/update\", async (req, res) => {\n  const {\n    nrInscricao,\n    situacao\n  } = req.body;\n\n  if (nrInscricao && situacao) {\n    const item = await (0, _db.updatePropertyState)(nrInscricao, situacao);\n    res.json(item);\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao atualizar imóvel.\"\n    });\n  }\n}); // REQUISICOES PARA UM INQUILINO\n// requisição para manifestar interesse em um imóvel\n\napp.post(\"/interest\", async (req, res) => {\n  const {\n    nome,\n    telefone,\n    nr_inscricao\n  } = req.body;\n\n  if (nr_inscricao && telefone && nome) {\n    const item = await (0, _db.addInterest)(nr_inscricao, nome, telefone);\n    res.json(item);\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao inscrever interesse.\"\n    });\n  }\n});\n\nconst server = _http.default.createServer(app);\n\n(0, _db.connect)();\nserver.listen(_env.PORT, () => console.log(`Rodando em ${_env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsInVzZSIsImV4cHJlc3MiLCJqc29uIiwiYm9keVBhcnNlciIsInJlcXVpcmUiLCJzdGF0aWMiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsImZpbHRlciIsInF1ZXJ5IiwicHJvcGVydGllcyIsInBvc3QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsImwiLCJvayIsImRhdGEiLCJuYW1lIiwibWVzc2FnZSIsIm5ySW5zY3JpY2FvIiwidGl0dWxvIiwiaW1nIiwiZW5kZXJlY28iLCJ0aXBvIiwibnJEb3JtaXRvcmlvcyIsIm5yQmFuaGVpcm9zIiwibnJWYWdhcyIsInZhbG9yIiwicCIsInNpdHVhY2FvIiwiaXRlbSIsIm5vbWUiLCJ0ZWxlZm9uZSIsIm5yX2luc2NyaWNhbyIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJQT1JUIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFVQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLEdBQUcsR0FBRyx1QkFBWjtBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVFDLElBQVIsRUFBUjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdDLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBTCxHQUFHLENBQUNDLEdBQUosQ0FBUUcsVUFBVSxDQUFDRCxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRSSxNQUFSLENBQWVDLGNBQUtDLE9BQUwsQ0FBYUMsU0FBYixFQUF3QixXQUF4QixDQUFmLENBQVIsRSxDQUVBOztBQUNBVCxHQUFHLENBQUNVLEdBQUosQ0FBUSxhQUFSLEVBQXVCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6QyxRQUFNQyxNQUFNLEdBQUdGLEdBQUcsQ0FBQ0csS0FBbkI7O0FBQ0EsTUFBSUQs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MUIsSUFBQUEsR0FBRyxDQUFDVCxJQUFKLENBQVNpQyxJQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0x4QixJQUFBQSxHQUFHLENBQUNULElBQUosQ0FBUztBQUFFa0IsTUFBQUEsRUFBRSxFQUFFLEtBQU47QUFBYUcsTUFBQUEsT0FBTyxFQUFFO0FBQXRCLEtBQVQ7QUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTWdCLE1BQU0sR0FBR0MsY0FBS0MsWUFBTCxDQUFrQjFDLEdBQWxCLENBQWY7O0FBQ0E7QUFDQXdDLE1BQU0sQ0FBQ0csTUFBUCxDQUFjQyxTQUFkLEVBQW9CLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGNBQWFGLFNBQUssRUFBL0IsQ0FBMUIiLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2b21vc2VyL2NvbXB1dGFjYW8vMjAuMS93ZWIvdHJhYmFsaG8vd2ViLXByb3BlcnR5LXJlbnRhbC9iYWNrZW5kL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQT1JUIH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQge1xuICBhZGRQcm9wZXJ0eSxcbiAgY29ubmVjdCxcbiAgZ2V0UHJvcGVydGllcyxcbiAgZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIsXG4gIGxvZ2luLFxuICByZXNldCxcbiAgdXBkYXRlUHJvcGVydHlTdGF0ZSxcbiAgYWRkSW50ZXJlc3QsXG59IGZyb20gXCIuL2RiXCI7XG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZW5TYWx0U3luYywgaGFzaFN5bmMsIGNvbXBhcmVTeW5jIH0gZnJvbSBcImJjcnlwdGpzXCI7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4uL3B1YmxpY1wiKSkpO1xuXG4vLyBSRVFVSVNJw4fDlUVTIELDgVNJQ0FTXG5hcHAuZ2V0KFwiL3Byb3BlcnRpZXNcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGZpbHRlciA9IHJlcS5xdWVyeTtcbiAgaWYgKGZpbHRlcikge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBnZXRQcm9wZXJ0aWVzV2l0aEZpbHRlcihmaWx0ZXIpO1xuICAgIHJlcy5qc29uKHByb3BlcnRpZXMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBnZXRQcm9wZXJ0aWVzKCk7XG4gICAgcmVzLmpzb24ocHJvcGVydGllcyk7XG4gIH1cbn0pO1xuXG4vLyBSRVFVSVNJQ09FUyBQQVJBIFVNIENPUlJFVE9SXG4vLyByZXF1aXNpw6fDo28gcGFyYSBhcHJvdmFyIGxvZ2luXG5hcHAucG9zdChcIi9sb2dpblwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICBpZiAodXNlcm5hbWUgJiYgcGFzc3dvcmQpIHtcbiAgICBjb25zdCBsID0gYXdhaXQgbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICByZXMuanNvbih7IG9rOiB0cnVlLCBkYXRhOiB7IHVzZXJuYW1lOiBsLnVzZXJuYW1lLCBuYW1lOiBsLm5hbWUgfSB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbih7IG9rOiBmYWxzZSwgbWVzc2FnZTogXCJQcm9ibGVtYSBhbyBlZmV0dWFyIGxvZ2luLlwiIH0pO1xuICB9XG59KTtcblxuLy8gcmVxdWlzacOnw6NvIHBhcmEgZmF6ZXIgdHJvY2EgZGUgc2VuaGFcbmFwcC5wb3N0KFwiL3Jlc2V0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGlmICh1c2VybmFtZSAmJiBwYXNzd29yZCkge1xuICAgIGNvbnN0IGwgPSBhd2FpdCByZXNldCh1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgIHJlcy5qc29uKHsgb2s6IHRydWUgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLmpzb24oeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiUHJvYmxlbWEgYW8gYXR1YWxpemFyIHNlbmhhLlwiIH0pO1xuICB9XG59KTtcblxuLy8gcmVxdWlzacOnw6NvIHBhcmEgY2FkYXN0cmFyIGltw7N2ZWxcbmFwcC5wb3N0KFwiL3Byb3BlcnR5XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7XG4gICAgbnJJbnNjcmljYW8sXG4gICAgdGl0dWxvLFxuICAgIGltZyxcbiAgICBlbmRlcmVjbyxcbiAgICB0aXBvLFxuICAgIG5yRG9ybWl0b3Jpb3MsXG4gICAgbnJCYW5oZWlyb3MsXG4gICAgbnJWYWdhcyxcbiAgICB2YWxvcixcbiAgfSA9IHJlcS5ib2R5O1xuICBpZiAoXG4gICAgbnJJbnNjcmljYW8gJiZcbiAgICBpbWcgJiZcbiAgICB0aXR1bG8gJiZcbiAgICBlbmRlcmVjbyAmJlxuICAgIHRpcG8gJiZcbiAgICBuckRvcm1pdG9yaW9zICYmXG4gICAgbnJCYW5oZWlyb3MgJiZcbiAgICBuclZhZ2FzICYmXG4gICAgdmFsb3JcbiAgKSB7XG4gICAgY29uc3QgcCA9IGF3YWl0IGFkZFByb3BlcnR5KFxuICAgICAgbnJJbnNjcmljYW8sXG4gICAgICB0aXR1bG8sXG4gICAgICBpbWcsXG4gICAgICBlbmRlcmVjbyxcbiAgICAgIHRpcG8sXG4gICAgICBuckRvcm1pdG9yaW9zLFxuICAgICAgbnJCYW5oZWlyb3MsXG4gICAgICBuclZhZ2FzLFxuICAgICAgdmFsb3JcbiAgICApO1xuICAgIGlmIChwKSB7XG4gICAgICByZXMuanNvbih7IG9rOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuanNvbih7XG4gICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogXCJKw6EgZXhpc3RlIHVtIGltw7N2ZWwgY29tIGVzdGUgbsO6bWVybyBkZSBpbnNjcmnDp8Ojby5cIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbih7IG9rOiBmYWxzZSwgbWVzc2FnZTogXCJQcm9ibGVtYSBhbyBpbnNlcmlyIGltw7N2ZWwuXCIgfSk7XG4gIH1cbn0pO1xuXG4vLyByZXF1aXNpw6fDo28gcGFyYSBhbHRlcmFyIHNpdHVhw6fDo28gZGUgdW0gaW3Ds3ZlbFxuYXBwLnBvc3QoXCIvdXBkYXRlXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IG5ySW5zY3JpY2FvLCBzaXR1YWNhbyB9ID0gcmVxLmJvZHk7XG4gIGlmIChuckluc2NyaWNhbyAmJiBzaXR1YWNhbykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCB1cGRhdGVQcm9wZXJ0eVN0YXRlKG5ySW5zY3JpY2FvLCBzaXR1YWNhbyk7XG4gICAgcmVzLmpzb24oaXRlbSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLmpzb24oeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiUHJvYmxlbWEgYW8gYXR1YWxpemFyIGltw7N2ZWwuXCIgfSk7XG4gIH1cbn0pO1xuXG4vLyBSRVFVSVNJQ09FUyBQQVJBIFVNIElOUVVJTElOT1xuLy8gcmVxdWlzacOnw6NvIHBhcmEgbWFuaWZlc3RhciBpbnRlcmVzc2UgZW0gdW0gaW3Ds3ZlbFxuYXBwLnBvc3QoXCIvaW50ZXJlc3RcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgbm9tZSwgdGVsZWZvbmUsIG5yX2luc2NyaWNhbyB9ID0gcmVxLmJvZHk7XG4gIGlmIChucl9pbnNjcmljYW8gJiYgdGVsZWZvbmUgJiYgbm9tZSkge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBhZGRJbnRlcmVzdChucl9pbnNjcmljYW8sIG5vbWUsIHRlbGVmb25lKTtcbiAgICByZXMuanNvbihpdGVtKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbih7IG9rOiBmYWxzZSwgbWVzc2FnZTogXCJQcm9ibGVtYSBhbyBpbnNjcmV2ZXIgaW50ZXJlc3NlLlwiIH0pO1xuICB9XG59KTtcblxuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcbmNvbm5lY3QoKTtcbnNlcnZlci5saXN0ZW4oUE9SVCwgKCkgPT4gY29uc29sZS5sb2coYFJvZGFuZG8gZW0gJHtQT1JUfWApKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "use",
        "express",
        "json",
        "bodyParser",
        "require",
        "static",
        "path",
        "resolve",
        "__dirname",
        "get",
        "req",
        "res",
        "filter",
        "query",
        "properties",
        "post",
        "username",
        "password",
        "body",
        "l",
        "ok",
        "data",
        "name",
        "message",
        "nrInscricao",
        "titulo",
        "img",
        "endereco",
        "tipo",
        "nrDormitorios",
        "nrBanheiros",
        "nrVagas",
        "valor",
        "p",
        "situacao",
        "item",
        "nome",
        "telefone",
        "nr_inscricao",
        "server",
        "http",
        "createServer",
        "listen",
        "PORT",
        "console",
        "log"
      ],
      "mappings": "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",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { PORT } from \"./env\";\nimport {\n  addProperty,\n  connect,\n  getProperties,\n  getPropertiesWithFilter,\n  login,\n  reset,\n  updatePropertyState,\n  addInterest,\n} from \"./db\";\nimport express from \"express\";\nimport http from \"http\";\nimport path from \"path\";\nimport { genSaltSync, hashSync, compareSync } from \"bcryptjs\";\n\nconst app = express();\napp.use(express.json());\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.use(express.static(path.resolve(__dirname, \"../public\")));\n\n// REQUISIÇÕES BÁSICAS\napp.get(\"/properties\", async (req, res) => {\n  const filter = req.query;\n  if (filter) {\n    const properties = await getPropertiesWithFilter(filter);\n    res.json(properties);\n  } else {\n    const properties = await getProperties();\n    res.json(properties);\n  }\n});\n\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\napp.post(\"/login\", async (req, res) => {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await login(username, password);\n    res.json({ ok: true, data: { username: l.username, name: l.name } });\n  } else {\n    res.json({ ok: false, message: \"Problema ao efetuar login.\" });\n  }\n});\n\n// requisição para fazer troca de senha\napp.post(\"/reset\", async (req, res) => {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await reset(username, password);\n    res.json({ ok: true });\n  } else {\n    res.json({ ok: false, message: \"Problema ao atualizar senha.\" });\n  }\n});\n\n// requisição para cadastrar imóvel\napp.post(\"/property\", async (req, res) => {\n  const {\n    nrInscricao,\n    titulo,\n    img,\n    endereco,\n    tipo,\n    nrDormitorios,\n    nrBanheiros,\n    nrVagas,\n    valor,\n  } = req.body;\n  if (\n    nrInscricao &&\n    img &&\n    titulo &&\n    endereco &&\n    tipo &&\n    nrDormitorios &&\n    nrBanheiros &&\n    nrVagas &&\n    valor\n  ) {\n    const p = await addProperty(\n      nrInscricao,\n      titulo,\n      img,\n      endereco,\n      tipo,\n      nrDormitorios,\n      nrBanheiros,\n      nrVagas,\n      valor\n    );\n    if (p) {\n      res.json({ ok: true });\n    } else {\n      res.json({\n        ok: false,\n        message: \"Já existe um imóvel com este número de inscrição.\",\n      });\n    }\n  } else {\n    res.json({ ok: false, message: \"Problema ao inserir imóvel.\" });\n  }\n});\n\n// requisição para alterar situação de um imóvel\napp.post(\"/update\", async (req, res) => {\n  const { nrInscricao, situacao } = req.body;\n  if (nrInscricao && situacao) {\n    const item = await updatePropertyState(nrInscricao, situacao);\n    res.json(item);\n  } else {\n    res.json({ ok: false, message: \"Problema ao atualizar imóvel.\" });\n  }\n});\n\n// REQUISICOES PARA UM INQUILINO\n// requisição para manifestar interesse em um imóvel\napp.post(\"/interest\", async (req, res) => {\n  const { nome, telefone, nr_inscricao } = req.body;\n  if (nr_inscricao && telefone && nome) {\n    const item = await addInterest(nr_inscricao, nome, telefone);\n    res.json(item);\n  } else {\n    res.json({ ok: false, message: \"Problema ao inscrever interesse.\" });\n  }\n});\n\nconst server = http.createServer(app);\nconnect();\nserver.listen(PORT, () => console.log(`Rodando em ${PORT}`));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607621945755
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MONGO_URL = exports.PORT = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-console */\nconst env = _path.default.join(__dirname, \"../.env\");\n\n_dotenv.default.config({\n  path: env\n});\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\nconst PORT = parseInt(process.env.PORT);\nexports.PORT = PORT;\nconst MONGO_URL = process.env.MONGO_URL;\nexports.MONGO_URL = MONGO_URL;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImRvdGVudiIsImNvbmZpZyIsImVycm9yIiwicHJvY2VzcyIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTU9OR09fVVJMIiwiZXhpdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBLE1BQU1BLEdBQUcsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCLENBQVo7O0FBQ0FDLGdCQUFPQyxNQUFQLENBQWM7QUFBRUosRUFBQUEsSUFBSSxFQUFFRDtBQUFSLENBQWQ7O0FBRUEsSUFBSU0sS0FBSyxHQUFHLEtBQVo7O0FBRUEsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVEsSUFBakIsRUFBdUI7QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRUQsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVcsU0FBakIsRUFBNEI7QUFDMUJGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRURBLEtBQUssSUFBSUMsT0FBTyxDQUFDSyxJQUFSLENBQWEsQ0FBYixDQUFUO0FBRUEsTUFBTUosSUFBSSxHQUFHSyxRQUFRLENBQUNOLE9BQU8sQ0FBQ1AsR0FBUixDQUFZUSxJQUFiLENBQXJCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osT0FBTyxDQUFDUCxHQUFSLENBQVlXLFNBQTlCIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuXG5jb25zdCBlbnYgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uLy5lbnZcIik7XG5kb3RlbnYuY29uZmlnKHsgcGF0aDogZW52IH0pO1xuXG5sZXQgZXJyb3IgPSBmYWxzZTtcblxuaWYgKCFwcm9jZXNzLmVudi5QT1JUKSB7XG4gIGNvbnNvbGUubG9nKFwiRGVmaW5hIGEgdmFyacOhdmVsIFBPUlQgZW0gYmFja2VuZC8uZW52IFxcblwiKTtcbiAgZXJyb3IgPSB0cnVlO1xufVxuXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPX1VSTCkge1xuICBjb25zb2xlLmxvZyhcIkRlZmluYSBhIHZhcmnDoXZlbCBNT05HT19VUkwgZW0gYmFja2VuZC8uZW52XCIpO1xuICBlcnJvciA9IHRydWU7XG59XG5cbmVycm9yICYmIHByb2Nlc3MuZXhpdCgxKTtcblxuY29uc3QgUE9SVCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQpO1xuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMO1xuZXhwb3J0IHsgUE9SVCwgTU9OR09fVVJMIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "env",
        "path",
        "join",
        "__dirname",
        "dotenv",
        "config",
        "error",
        "process",
        "PORT",
        "console",
        "log",
        "MONGO_URL",
        "exit",
        "parseInt"
      ],
      "mappings": ";;;;;;;AACA;;AACA;;;;AAFA;AAIA,MAAMA,GAAG,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAZ;;AACAC,gBAAOC,MAAP,CAAc;AAAEJ,EAAAA,IAAI,EAAED;AAAR,CAAd;;AAEA,IAAIM,KAAK,GAAG,KAAZ;;AAEA,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYQ,IAAjB,EAAuB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAED,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYW,SAAjB,EAA4B;AAC1BF,EAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAEDA,KAAK,IAAIC,OAAO,CAACK,IAAR,CAAa,CAAb,CAAT;AAEA,MAAMJ,IAAI,GAAGK,QAAQ,CAACN,OAAO,CAACP,GAAR,CAAYQ,IAAb,CAArB;;AACA,MAAMG,SAAS,GAAGJ,OAAO,CAACP,GAAR,CAAYW,SAA9B",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "/* eslint-disable no-console */\nimport path from \"path\";\nimport dotenv from \"dotenv\";\n\nconst env = path.join(__dirname, \"../.env\");\ndotenv.config({ path: env });\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\n\nconst PORT = parseInt(process.env.PORT);\nconst MONGO_URL = process.env.MONGO_URL;\nexport { PORT, MONGO_URL };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607207362946
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.login = login;\nexports.reset = reset;\nexports.getProperties = getProperties;\nexports.getPropertyByInscricao = getPropertyByInscricao;\nexports.updatePropertyState = updatePropertyState;\nexports.addProperty = addProperty;\nexports.addInterest = addInterest;\nexports.getPropertiesWithFilter = getPropertiesWithFilter;\n\nvar _env = require(\"./env\");\n\nvar _mongodb = require(\"mongodb\");\n\nlet driver = new _mongodb.MongoClient(_env.MONGO_URL, {\n  useUnifiedTopology: true\n});\n\nasync function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nasync function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username,\n    password\n  };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nasync function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username\n  };\n  const toUpdate = {\n    $set: {\n      password: newPassword\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nasync function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({\n    nr_inscricao\n  });\n  return !!property;\n}\n\nasync function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = {\n    nr_inscricao: nr_inscricao\n  };\n  const toUpdate = {\n    $set: {\n      situacao\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function addProperty(nr_inscricao, titulo, img, endereco, tipo, nr_dormitorios, nr_banheiros, nr_vagas_garagem, valor) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      titulo,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor)\n    });\n  }\n\n  return insert;\n}\n\nasync function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({\n      nome,\n      telefone\n    });\n\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nasync function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n  var query = {};\n\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo)\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = {\n        $lte: parseFloat(filter.valorMaximo)\n      };\n    } else if (filter.valorMinimo) {\n      query.valor = {\n        $gte: parseFloat(filter.valorMinimo)\n      };\n    }\n  }\n\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImRyaXZlciIsIk1vbmdvQ2xpZW50IiwiTU9OR09fVVJMIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwiZGIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ1c2VyIiwiZmluZE9uZSIsInJlc2V0IiwibmV3UGFzc3dvcmQiLCJ0b1VwZGF0ZSIsIiRzZXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJmaW5kIiwidG9BcnJheSIsImdldFByb3BlcnR5QnlJbnNjcmljYW8iLCJucl9pbnNjcmljYW8iLCJwcm9wZXJ0eSIsInVwZGF0ZVByb3BlcnR5U3RhdGUiLCJzaXR1YWNhbyIsImFkZFByb3BlcnR5IiwidGl0dWxvIiwiaW1nIiwiZW5kZXJlY28iLCJ0aXBvIiwibnJfZG9ybWl0b3Jpb3MiLCJucl9iYW5oZWlyb3MiLCJucl92YWdhc19nYXJhZ2VtIiwidmFsb3IiLCJpbnNlcnQiLCJnZXRQcm9wZXJ0eSIsIm5ySW5zY3JpY2FvIiwiaW5zZXJ0T25lIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwiYWRkSW50ZXJlc3QiLCJub21lIiwidGVsZWZvbmUiLCJsZW5ndGgiLCJpdGVtIiwiZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIiLCJmaWx0ZXIiLCJ2YWxvck1heGltbyIsInZhbG9yTWluaW1vIiwiJGx0ZSIsIiRndGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUlBLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixDQUFnQkMsY0FBaEIsRUFBMkI7QUFBRUMsRUFBQUEsa0JBQWtCLEVBQUU7QUFBdEIsQ0FBM0IsQ0FBYjs7QUFFTyxlQUFlQyxPQUFmLEdBQXlCO0FBQzlCSixFQUFBQSxNQUFNLENBQUNJLE9BQVAsQ0FBZSxDQUFD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QUFBQSxJQUFJLEVBQUVYLFVBQVUsQ0FBQ08sTUFBTSxDQUFDRSxXQUFSO0FBQWxCLE9BQWQ7QUFDRDtBQUNGOztBQUNELFFBQU0vQixVQUFVLEdBQUcsTUFBTVgsVUFBVSxDQUFDWSxJQUFYLENBQWdCWCxLQUFoQixFQUF1QlksT0FBdkIsRUFBekI7QUFDQSxTQUFPRixVQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2b21vc2VyL2NvbXB1dGFjYW8vMjAuMS93ZWIvdHJhYmFsaG8vd2ViLXByb3BlcnR5LXJlbnRhbC9iYWNrZW5kL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNT05HT19VUkwgfSBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSBcIm1vbmdvZGJcIjtcbmxldCBkcml2ZXIgPSBuZXcgTW9uZ29DbGllbnQoTU9OR09fVVJMLCB7IHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gIGRyaXZlci5jb25uZWN0KChlcnIsIGNvbm4pID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgICBkcml2ZXIgPSBjb25uLmRiKFwiV0VCX1BST1BFUlRZX1JFTlRBTFwiKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwidXNlclwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IHVzZXJuYW1lLCBwYXNzd29yZCB9O1xuICBjb25zdCB1c2VyID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHF1ZXJ5KTtcbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldCh1c2VybmFtZSwgbmV3UGFzc3dvcmQpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwidXNlclwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IHVzZXJuYW1lIH07XG4gIGNvbnN0IHRvVXBkYXRlID0ge1xuICAgICRzZXQ6IHsgcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkIH0sXG4gIH07XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdG9VcGRhdGUpO1xuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnRpZXMoKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInByb3BlcnR5XCIpO1xuICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKCkudG9BcnJheSgpO1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnR5QnlJbnNjcmljYW8obnJfaW5zY3JpY2FvKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInByb3BlcnR5XCIpO1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZSh7IG5yX2luc2NyaWNhbyB9KTtcbiAgcmV0dXJuICEhcHJvcGVydHk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eVN0YXRlKG5yX2luc2NyaWNhbywgc2l0dWFjYW8pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHF1ZXJ5ID0geyBucl9pbnNjcmljYW86IG5yX2luc2NyaWNhbyB9O1xuICBjb25zdCB0b1VwZGF0ZSA9IHtcbiAgICAkc2V0OiB7IHNpdHVhY2FvIH0sXG4gIH07XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdG9VcGRhdGUpO1xuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFByb3BlcnR5KFxuICBucl9pbnNjcmljYW8sXG4gIHRpdHVsbyxcbiAgaW1nLFxuICBlbmRlcmVjbyxcbiAgdGlwbyxcbiAgbnJfZG9ybWl0b3Jpb3MsXG4gIG5yX2JhbmhlaXJvcyxcbiAgbnJfdmFnYXNfZ2FyYWdlbSxcbiAgdmFsb3Jcbikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgbGV0IGluc2VydCA9IG51bGw7XG4gIGlmICghIWdldFByb3BlcnR5KG5ySW5zY3JpY2FvKSkge1xuICAgIGluc2VydCA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgIHRpdHVsbyxcbiAgICAgIGltZyxcbiAgICAgIGVuZGVyZWNvLFxuICAgICAgdGlwbyxcbiAgICAgIG5yX2Rvcm1pdG9yaW9zOiBwYXJzZUludChucl9kb3JtaXRvcmlvcyksXG4gICAgICBucl9iYW5oZWlyb3M6IHBhcnNlSW50KG5yX2JhbmhlaXJvcyksXG4gICAgICBucl92YWdhc19nYXJhZ2VtOiBwYXJzZUludChucl92YWdhc19nYXJhZ2VtKSxcbiAgICAgIHZhbG9yOiBwYXJzZUZsb2F0KHZhbG9yKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zZXJ0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSW50ZXJlc3QobnJfaW5zY3JpY2FvLCBub21lLCB0ZWxlZm9uZSkge1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGdldFByb3BlcnR5QnlJbnNjcmljYW8obnJfaW5zY3JpY2FvKTtcbiAgaWYgKHByb3BlcnR5KSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwiaW50ZXJlc3RcIik7XG4gICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHsgbm9tZSwgdGVsZWZvbmUgfSk7XG4gICAgaWYgKGxlbmd0aCA+IDMpIHtcbiAgICAgIHJldHVybiBcIlZvY8OqIGF0aW5naXUgbyBuw7ptZXJvIG3DoXhpbW8gZGUgcmVxdWlzacOnw7VlcyBkZSBpbnRlcmVzc2UuXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgICAgbm9tZSxcbiAgICAgICAgdGVsZWZvbmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJFc3RlIGltw7N2ZWwgbsOjbyBleGlzdGUuXCI7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnRpZXNXaXRoRmlsdGVyKGZpbHRlcikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcblxuICB2YXIgcXVlcnkgPSB7fTtcbiAgaWYgKGZpbHRlci50aXBvKSB7XG4gICAgcXVlcnkudGlwbyA9IGZpbHRlci50aXBvO1xuICB9XG4gIGlmIChmaWx0ZXIubnJfYmFuaGVpcm9zKSB7XG4gICAgcXVlcnkubnJfYmFuaGVpcm9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2JhbmhlaXJvcyk7XG4gIH1cbiAgaWYgKGZpbHRlci5ucl9kb3JtaXRvcmlvcykge1xuICAgIHF1ZXJ5Lm5yX2Rvcm1pdG9yaW9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2Rvcm1pdG9yaW9zKTtcbiAgfVxuICBpZiAoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pIHtcbiAgICBxdWVyeS5ucl92YWdhc19nYXJhZ2VtID0gcGFyc2VJbnQoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pO1xuICB9XG5cbiAgaWYgKGZpbHRlci52YWxvck1heGltbyAmJiBmaWx0ZXIudmFsb3JNaW5pbW8pIHtcbiAgICBxdWVyeS52YWxvciA9IHtcbiAgICAgICRsdGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWF4aW1vKSxcbiAgICAgICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGlmIChmaWx0ZXIudmFsb3JNYXhpbW8pIHtcbiAgICAgIHF1ZXJ5LnZhbG9yID0geyAkbHRlOiBwYXJzZUZsb2F0KGZpbHRlci52YWxvck1heGltbykgfTtcbiAgICB9IGVsc2UgaWYgKGZpbHRlci52YWxvck1pbmltbykge1xuICAgICAgcXVlcnkudmFsb3IgPSB7ICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSB9O1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHF1ZXJ5KS50b0FycmF5KCk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "driver",
        "MongoClient",
        "MONGO_URL",
        "useUnifiedTopology",
        "connect",
        "err",
        "conn",
        "console",
        "log",
        "db",
        "login",
        "username",
        "password",
        "collection",
        "query",
        "user",
        "findOne",
        "reset",
        "newPassword",
        "toUpdate",
        "$set",
        "updated",
        "updateOne",
        "getProperties",
        "properties",
        "find",
        "toArray",
        "getPropertyByInscricao",
        "nr_inscricao",
        "property",
        "updatePropertyState",
        "situacao",
        "addProperty",
        "titulo",
        "img",
        "endereco",
        "tipo",
        "nr_dormitorios",
        "nr_banheiros",
        "nr_vagas_garagem",
        "valor",
        "insert",
        "getProperty",
        "nrInscricao",
        "insertOne",
        "parseInt",
        "parseFloat",
        "addInterest",
        "nome",
        "telefone",
        "length",
        "item",
        "getPropertiesWithFilter",
        "filter",
        "valorMaximo",
        "valorMinimo",
        "$lte",
        "$gte"
      ],
      "mappings": "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",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { MONGO_URL } from \"./env\";\nimport { MongoClient } from \"mongodb\";\nlet driver = new MongoClient(MONGO_URL, { useUnifiedTopology: true });\n\nexport async function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nexport async function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = { username, password };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nexport async function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = { username };\n  const toUpdate = {\n    $set: { password: newPassword },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nexport async function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({ nr_inscricao });\n  return !!property;\n}\n\nexport async function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = { nr_inscricao: nr_inscricao };\n  const toUpdate = {\n    $set: { situacao },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function addProperty(\n  nr_inscricao,\n  titulo,\n  img,\n  endereco,\n  tipo,\n  nr_dormitorios,\n  nr_banheiros,\n  nr_vagas_garagem,\n  valor\n) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      titulo,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor),\n    });\n  }\n  return insert;\n}\n\nexport async function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({ nome, telefone });\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone,\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nexport async function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n\n  var query = {};\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo),\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = { $lte: parseFloat(filter.valorMaximo) };\n    } else if (filter.valorMinimo) {\n      query.valor = { $gte: parseFloat(filter.valorMinimo) };\n    }\n  }\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607606381975
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MONGO_URL = exports.PORT = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-console */\nconst env = _path.default.join(__dirname, \"../.env\");\n\n_dotenv.default.config({\n  path: env\n});\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\nconst PORT = parseInt(process.env.PORT);\nexports.PORT = PORT;\nconst MONGO_URL = process.env.MONGO_URL;\nexports.MONGO_URL = MONGO_URL;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImRvdGVudiIsImNvbmZpZyIsImVycm9yIiwicHJvY2VzcyIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTU9OR09fVVJMIiwiZXhpdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBLE1BQU1BLEdBQUcsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCLENBQVo7O0FBQ0FDLGdCQUFPQyxNQUFQLENBQWM7QUFBRUosRUFBQUEsSUFBSSxFQUFFRDtBQUFSLENBQWQ7O0FBRUEsSUFBSU0sS0FBSyxHQUFHLEtBQVo7O0FBRUEsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVEsSUFBakIsRUFBdUI7QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRUQsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVcsU0FBakIsRUFBNEI7QUFDMUJGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRURBLEtBQUssSUFBSUMsT0FBTyxDQUFDSyxJQUFSLENBQWEsQ0FBYixDQUFUO0FBRUEsTUFBTUosSUFBSSxHQUFHSyxRQUFRLENBQUNOLE9BQU8sQ0FBQ1AsR0FBUixDQUFZUSxJQUFiLENBQXJCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osT0FBTyxDQUFDUCxHQUFSLENBQVlXLFNBQTlCIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuXG5jb25zdCBlbnYgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uLy5lbnZcIik7XG5kb3RlbnYuY29uZmlnKHsgcGF0aDogZW52IH0pO1xuXG5sZXQgZXJyb3IgPSBmYWxzZTtcblxuaWYgKCFwcm9jZXNzLmVudi5QT1JUKSB7XG4gIGNvbnNvbGUubG9nKFwiRGVmaW5hIGEgdmFyacOhdmVsIFBPUlQgZW0gYmFja2VuZC8uZW52IFxcblwiKTtcbiAgZXJyb3IgPSB0cnVlO1xufVxuXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPX1VSTCkge1xuICBjb25zb2xlLmxvZyhcIkRlZmluYSBhIHZhcmnDoXZlbCBNT05HT19VUkwgZW0gYmFja2VuZC8uZW52XCIpO1xuICBlcnJvciA9IHRydWU7XG59XG5cbmVycm9yICYmIHByb2Nlc3MuZXhpdCgxKTtcblxuY29uc3QgUE9SVCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQpO1xuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMO1xuZXhwb3J0IHsgUE9SVCwgTU9OR09fVVJMIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "env",
        "path",
        "join",
        "__dirname",
        "dotenv",
        "config",
        "error",
        "process",
        "PORT",
        "console",
        "log",
        "MONGO_URL",
        "exit",
        "parseInt"
      ],
      "mappings": ";;;;;;;AACA;;AACA;;;;AAFA;AAIA,MAAMA,GAAG,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAZ;;AACAC,gBAAOC,MAAP,CAAc;AAAEJ,EAAAA,IAAI,EAAED;AAAR,CAAd;;AAEA,IAAIM,KAAK,GAAG,KAAZ;;AAEA,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYQ,IAAjB,EAAuB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAED,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYW,SAAjB,EAA4B;AAC1BF,EAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAEDA,KAAK,IAAIC,OAAO,CAACK,IAAR,CAAa,CAAb,CAAT;AAEA,MAAMJ,IAAI,GAAGK,QAAQ,CAACN,OAAO,CAACP,GAAR,CAAYQ,IAAb,CAArB;;AACA,MAAMG,SAAS,GAAGJ,OAAO,CAACP,GAAR,CAAYW,SAA9B",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "/* eslint-disable no-console */\nimport path from \"path\";\nimport dotenv from \"dotenv\";\n\nconst env = path.join(__dirname, \"../.env\");\ndotenv.config({ path: env });\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\n\nconst PORT = parseInt(process.env.PORT);\nconst MONGO_URL = process.env.MONGO_URL;\nexport { PORT, MONGO_URL };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607207362946
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.login = login;\nexports.reset = reset;\nexports.getProperties = getProperties;\nexports.getPropertyByInscricao = getPropertyByInscricao;\nexports.updatePropertyState = updatePropertyState;\nexports.addProperty = addProperty;\nexports.addInterest = addInterest;\nexports.getPropertiesWithFilter = getPropertiesWithFilter;\n\nvar _env = require(\"./env\");\n\nvar _mongodb = require(\"mongodb\");\n\nlet driver = new _mongodb.MongoClient(_env.MONGO_URL, {\n  useUnifiedTopology: true\n});\n\nasync function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nasync function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username,\n    password\n  };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nasync function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username\n  };\n  const toUpdate = {\n    $set: {\n      password: newPassword\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nasync function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({\n    nr_inscricao\n  });\n  return !!property;\n}\n\nasync function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = {\n    nr_inscricao: nr_inscricao\n  };\n  const toUpdate = {\n    $set: {\n      situacao\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function addProperty(nr_inscricao, titulo, img, endereco, tipo, nr_dormitorios, nr_banheiros, nr_vagas_garagem, valor) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      titulo,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor)\n    });\n  }\n\n  return insert;\n}\n\nasync function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({\n      nome,\n      telefone\n    });\n\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nasync function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n  var query = {};\n\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo)\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = {\n        $lte: parseFloat(filter.valorMaximo)\n      };\n    } else if (filter.valorMinimo) {\n      query.valor = {\n        $gte: parseFloat(filter.valorMinimo)\n      };\n    }\n  }\n\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImRyaXZlciIsIk1vbmdvQ2xpZW50IiwiTU9OR09fVVJMIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwiZGIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ1c2VyIiwiZmluZE9uZSIsInJlc2V0IiwibmV3UGFzc3dvcmQiLCJ0b1VwZGF0ZSIsIiRzZXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJmaW5kIiwidG9BcnJheSIsImdldFByb3BlcnR5QnlJbnNjcmljYW8iLCJucl9pbnNjcmljYW8iLCJwcm9wZXJ0eSIsInVwZGF0ZVByb3BlcnR5U3RhdGUiLCJzaXR1YWNhbyIsImFkZFByb3BlcnR5IiwidGl0dWxvIiwiaW1nIiwiZW5kZXJlY28iLCJ0aXBvIiwibnJfZG9ybWl0b3Jpb3MiLCJucl9iYW5oZWlyb3MiLCJucl92YWdhc19nYXJhZ2VtIiwidmFsb3IiLCJpbnNlcnQiLCJnZXRQcm9wZXJ0eSIsIm5ySW5zY3JpY2FvIiwiaW5zZXJ0T25lIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwiYWRkSW50ZXJlc3QiLCJub21lIiwidGVsZWZvbmUiLCJsZW5ndGgiLCJpdGVtIiwiZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIiLCJmaWx0ZXIiLCJ2YWxvck1heGltbyIsInZhbG9yTWluaW1vIiwiJGx0ZSIsIiRndGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUlBLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixDQUFnQkMsY0FBaEIsRUFBMkI7QUFBRUMsRUFBQUEsa0JBQWtCLEVBQUU7QUFBdEIsQ0FBM0IsQ0FBYjs7QUFFTyxlQUFlQyxPQUFmLEdBQXlCO0FBQzlCSixFQUFBQSxNQUFNLENBQUNJLE9BQVAsQ0FBZSxDQUFD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QUFBQSxJQUFJLEVBQUVYLFVBQVUsQ0FBQ08sTUFBTSxDQUFDRSxXQUFSO0FBQWxCLE9BQWQ7QUFDRDtBQUNGOztBQUNELFFBQU0vQixVQUFVLEdBQUcsTUFBTVgsVUFBVSxDQUFDWSxJQUFYLENBQWdCWCxLQUFoQixFQUF1QlksT0FBdkIsRUFBekI7QUFDQSxTQUFPRixVQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL2hvbWUvZ3VzdGF2b21vc2VyL2NvbXB1dGFjYW8vMjAuMS93ZWIvdHJhYmFsaG8vd2ViLXByb3BlcnR5LXJlbnRhbC9iYWNrZW5kL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNT05HT19VUkwgfSBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSBcIm1vbmdvZGJcIjtcbmxldCBkcml2ZXIgPSBuZXcgTW9uZ29DbGllbnQoTU9OR09fVVJMLCB7IHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gIGRyaXZlci5jb25uZWN0KChlcnIsIGNvbm4pID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgICBkcml2ZXIgPSBjb25uLmRiKFwiV0VCX1BST1BFUlRZX1JFTlRBTFwiKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwidXNlclwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IHVzZXJuYW1lLCBwYXNzd29yZCB9O1xuICBjb25zdCB1c2VyID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHF1ZXJ5KTtcbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldCh1c2VybmFtZSwgbmV3UGFzc3dvcmQpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwidXNlclwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IHVzZXJuYW1lIH07XG4gIGNvbnN0IHRvVXBkYXRlID0ge1xuICAgICRzZXQ6IHsgcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkIH0sXG4gIH07XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdG9VcGRhdGUpO1xuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnRpZXMoKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInByb3BlcnR5XCIpO1xuICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKCkudG9BcnJheSgpO1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnR5QnlJbnNjcmljYW8obnJfaW5zY3JpY2FvKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInByb3BlcnR5XCIpO1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZSh7IG5yX2luc2NyaWNhbyB9KTtcbiAgcmV0dXJuICEhcHJvcGVydHk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eVN0YXRlKG5yX2luc2NyaWNhbywgc2l0dWFjYW8pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHF1ZXJ5ID0geyBucl9pbnNjcmljYW86IG5yX2luc2NyaWNhbyB9O1xuICBjb25zdCB0b1VwZGF0ZSA9IHtcbiAgICAkc2V0OiB7IHNpdHVhY2FvIH0sXG4gIH07XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdG9VcGRhdGUpO1xuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFByb3BlcnR5KFxuICBucl9pbnNjcmljYW8sXG4gIHRpdHVsbyxcbiAgaW1nLFxuICBlbmRlcmVjbyxcbiAgdGlwbyxcbiAgbnJfZG9ybWl0b3Jpb3MsXG4gIG5yX2JhbmhlaXJvcyxcbiAgbnJfdmFnYXNfZ2FyYWdlbSxcbiAgdmFsb3Jcbikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgbGV0IGluc2VydCA9IG51bGw7XG4gIGlmICghIWdldFByb3BlcnR5KG5ySW5zY3JpY2FvKSkge1xuICAgIGluc2VydCA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgIHRpdHVsbyxcbiAgICAgIGltZyxcbiAgICAgIGVuZGVyZWNvLFxuICAgICAgdGlwbyxcbiAgICAgIG5yX2Rvcm1pdG9yaW9zOiBwYXJzZUludChucl9kb3JtaXRvcmlvcyksXG4gICAgICBucl9iYW5oZWlyb3M6IHBhcnNlSW50KG5yX2JhbmhlaXJvcyksXG4gICAgICBucl92YWdhc19nYXJhZ2VtOiBwYXJzZUludChucl92YWdhc19nYXJhZ2VtKSxcbiAgICAgIHZhbG9yOiBwYXJzZUZsb2F0KHZhbG9yKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zZXJ0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSW50ZXJlc3QobnJfaW5zY3JpY2FvLCBub21lLCB0ZWxlZm9uZSkge1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGdldFByb3BlcnR5QnlJbnNjcmljYW8obnJfaW5zY3JpY2FvKTtcbiAgaWYgKHByb3BlcnR5KSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwiaW50ZXJlc3RcIik7XG4gICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHsgbm9tZSwgdGVsZWZvbmUgfSk7XG4gICAgaWYgKGxlbmd0aCA+IDMpIHtcbiAgICAgIHJldHVybiBcIlZvY8OqIGF0aW5naXUgbyBuw7ptZXJvIG3DoXhpbW8gZGUgcmVxdWlzacOnw7VlcyBkZSBpbnRlcmVzc2UuXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgICAgbm9tZSxcbiAgICAgICAgdGVsZWZvbmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJFc3RlIGltw7N2ZWwgbsOjbyBleGlzdGUuXCI7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnRpZXNXaXRoRmlsdGVyKGZpbHRlcikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcblxuICB2YXIgcXVlcnkgPSB7fTtcbiAgaWYgKGZpbHRlci50aXBvKSB7XG4gICAgcXVlcnkudGlwbyA9IGZpbHRlci50aXBvO1xuICB9XG4gIGlmIChmaWx0ZXIubnJfYmFuaGVpcm9zKSB7XG4gICAgcXVlcnkubnJfYmFuaGVpcm9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2JhbmhlaXJvcyk7XG4gIH1cbiAgaWYgKGZpbHRlci5ucl9kb3JtaXRvcmlvcykge1xuICAgIHF1ZXJ5Lm5yX2Rvcm1pdG9yaW9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2Rvcm1pdG9yaW9zKTtcbiAgfVxuICBpZiAoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pIHtcbiAgICBxdWVyeS5ucl92YWdhc19nYXJhZ2VtID0gcGFyc2VJbnQoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pO1xuICB9XG5cbiAgaWYgKGZpbHRlci52YWxvck1heGltbyAmJiBmaWx0ZXIudmFsb3JNaW5pbW8pIHtcbiAgICBxdWVyeS52YWxvciA9IHtcbiAgICAgICRsdGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWF4aW1vKSxcbiAgICAgICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGlmIChmaWx0ZXIudmFsb3JNYXhpbW8pIHtcbiAgICAgIHF1ZXJ5LnZhbG9yID0geyAkbHRlOiBwYXJzZUZsb2F0KGZpbHRlci52YWxvck1heGltbykgfTtcbiAgICB9IGVsc2UgaWYgKGZpbHRlci52YWxvck1pbmltbykge1xuICAgICAgcXVlcnkudmFsb3IgPSB7ICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSB9O1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHF1ZXJ5KS50b0FycmF5KCk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "driver",
        "MongoClient",
        "MONGO_URL",
        "useUnifiedTopology",
        "connect",
        "err",
        "conn",
        "console",
        "log",
        "db",
        "login",
        "username",
        "password",
        "collection",
        "query",
        "user",
        "findOne",
        "reset",
        "newPassword",
        "toUpdate",
        "$set",
        "updated",
        "updateOne",
        "getProperties",
        "properties",
        "find",
        "toArray",
        "getPropertyByInscricao",
        "nr_inscricao",
        "property",
        "updatePropertyState",
        "situacao",
        "addProperty",
        "titulo",
        "img",
        "endereco",
        "tipo",
        "nr_dormitorios",
        "nr_banheiros",
        "nr_vagas_garagem",
        "valor",
        "insert",
        "getProperty",
        "nrInscricao",
        "insertOne",
        "parseInt",
        "parseFloat",
        "addInterest",
        "nome",
        "telefone",
        "length",
        "item",
        "getPropertiesWithFilter",
        "filter",
        "valorMaximo",
        "valorMinimo",
        "$lte",
        "$gte"
      ],
      "mappings": ";;;;;;;;;;;;;;;AAAA;;AACA;;AACA,IAAIA,MAAM,GAAG,IAAIC,oBAAJ,CAAgBC,cAAhB,EAA2B;AAAEC,EAAAA,kBAAkB,EAAE;AAAtB,CAA3B,CAAb;;AAEO,eAAeC,OAAf,GAAyB;AAC9BJ,EAAAA,MAAM,CAACI,OAAP,CAAe,CAACC,GAAD,EAAMC,IAAN,KAAe;AAC5B,QAAID,GAAJ,EAAS;AACPE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;;AACDL,IAAAA,MAAM,GAAGM,IAAI,CAACG,EAAL,CAAQ,qBAAR,CAAT;AACD,GALD;AAMD;;AAEM,eAAeC,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAC9C,QAAMC,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,MAAlB,CAAnB;AACA,QAAMC,KAAK,GAAG;AAAEH,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAd;AACA,QAAMG,IAAI,GAAG,MAAMF,UAAU,CAACG,OAAX,CAAmBF,KAAnB,CAAnB;AACA,SAAOC,IAAP;AACD;;AAEM,eAAeE,KAAf,CAAqBN,QAArB,EAA+BO,WAA/B,EAA4C;AACjD,QAAML,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,MAAlB,CAAnB;AACA,QAAMC,KAAK,GAAG;AAAEH,IAAAA;AAAF,GAAd;AACA,QAAMQ,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE;AAAER,MAAAA,QAAQ,EAAEM;AAAZ;AADS,GAAjB;AAGA,QAAMG,OAAO,GAAG,MAAMR,UAAU,CAACS,SAAX,CAAqBR,KAArB,EAA4BK,QAA5B,CAAtB;AACA,SAAOE,OAAP;AACD;;AAEM,eAAeE,aAAf,GAA+B;AACpC,QAAMV,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,UAAlB,CAAnB;AACA,QAAMW,UAAU,GAAG,MAAMX,UAAU,CAACY,IAAX,GAAkBC,OAAlB,EAAzB;AACA,SAAOF,UAAP;AACD;;AAEM,eAAeG,sBAAf,CAAsCC,YAAtC,EAAoD;AACzD,QAAMf,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,UAAlB,CAAnB;AACA,QAAMgB,QAAQ,GAAG,MAAMhB,UAAU,CAACG,OAAX,CAAmB;AAAEY,IAAAA;AAAF,GAAnB,CAAvB;AACA,SAAO,CAAC,CAACC,QAAT;AACD;;AAEM,eAAeC,mBAAf,CAAmCF,YAAnC,EAAiDG,QAAjD,EAA2D;AAChE,QAAMlB,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,UAAlB,CAAnB;AACA,QAAMC,KAAK,GAAG;AAAEc,IAAAA,YAAY,EAAEA;AAAhB,GAAd;AACA,QAAMT,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE;AAAEW,MAAAA;AAAF;AADS,GAAjB;AAGA,QAAMV,OAAO,GAAG,MAAMR,UAAU,CAACS,SAAX,CAAqBR,KAArB,EAA4BK,QAA5B,CAAtB;AACA,SAAOE,OAAP;AACD;;AAEM,eAAeW,WAAf,CACLJ,YADK,EAELK,MAFK,EAGLC,GAHK,EAILC,QAJK,EAKLC,IALK,EAMLC,cANK,EAOLC,YAPK,EAQLC,gBARK,EASLC,KATK,EAUL;AACA,QAAM3B,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,UAAlB,CAAnB;AACA,MAAI4B,MAAM,GAAG,IAAb;;AACA,MAAI,CAAC,CAACC,WAAW,CAACC,WAAD,CAAjB,EAAgC;AAC9BF,IAAAA,MAAM,GAAG,MAAM5B,UAAU,CAAC+B,SAAX,CAAqB;AAClChB,MAAAA,YADkC;AAElCK,MAAAA,MAFkC;AAGlCC,MAAAA,GAHkC;AAIlCC,MAAAA,QAJkC;AAKlCC,MAAAA,IALkC;AAMlCC,MAAAA,cAAc,EAAEQ,QAAQ,CAACR,cAAD,CANU;AAOlCC,MAAAA,YAAY,EAAEO,QAAQ,CAACP,YAAD,CAPY;AAQlCC,MAAAA,gBAAgB,EAAEM,QAAQ,CAACN,gBAAD,CARQ;AASlCC,MAAAA,KAAK,EAAEM,UAAU,CAACN,KAAD;AATiB,KAArB,CAAf;AAWD;;AACD,SAAOC,MAAP;AACD;;AAEM,eAAeM,WAAf,CAA2BnB,YAA3B,EAAyCoB,IAAzC,EAA+CC,QAA/C,EAAyD;AAC9D,QAAMpB,QAAQ,GAAG,MAAMF,sBAAsB,CAACC,YAAD,CAA7C;;AACA,MAAIC,QAAJ,EAAc;AACZ,UAAMhB,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,UAAlB,CAAnB;AACA,UAAMqC,MAAM,GAAG,MAAMrC,UAAU,CAACY,IAAX,CAAgB;AAAEuB,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAhB,CAArB;;AACA,QAAIC,MAAM,GAAG,CAAb,EAAgB;AACd,aAAO,2DAAP;AACD,KAFD,MAEO;AACL,YAAMC,IAAI,GAAG,MAAMtC,UAAU,CAAC+B,SAAX,CAAqB;AACtChB,QAAAA,YADsC;AAEtCoB,QAAAA,IAFsC;AAGtCC,QAAAA;AAHsC,OAArB,CAAnB;AAKA,aAAOE,IAAP;AACD;AACF,GAbD,MAaO;AACL,WAAO,yBAAP;AACD;AACF;;AAEM,eAAeC,uBAAf,CAAuCC,MAAvC,EAA+C;AACpD,QAAMxC,UAAU,GAAGb,MAAM,CAACa,UAAP,CAAkB,UAAlB,CAAnB;AAEA,MAAIC,KAAK,GAAG,EAAZ;;AACA,MAAIuC,MAAM,CAACjB,IAAX,EAAiB;AACftB,IAAAA,KAAK,CAACsB,IAAN,GAAaiB,MAAM,CAACjB,IAApB;AACD;;AACD,MAAIiB,MAAM,CAACf,YAAX,EAAyB;AACvBxB,IAAAA,KAAK,CAACwB,YAAN,GAAqBO,QAAQ,CAACQ,MAAM,CAACf,YAAR,CAA7B;AACD;;AACD,MAAIe,MAAM,CAAChB,cAAX,EAA2B;AACzBvB,IAAAA,KAAK,CAACuB,cAAN,GAAuBQ,QAAQ,CAACQ,MAAM,CAAChB,cAAR,CAA/B;AACD;;AACD,MAAIgB,MAAM,CAACd,gBAAX,EAA6B;AAC3BzB,IAAAA,KAAK,CAACyB,gBAAN,GAAyBM,QAAQ,CAACQ,MAAM,CAACd,gBAAR,CAAjC;AACD;;AAED,MAAIc,MAAM,CAACC,WAAP,IAAsBD,MAAM,CAACE,WAAjC,EAA8C;AAC5CzC,IAAAA,KAAK,CAAC0B,KAAN,GAAc;AACZgB,MAAAA,IAAI,EAAEV,UAAU,CAACO,MAAM,CAACC,WAAR,CADJ;AAEZG,MAAAA,IAAI,EAAEX,UAAU,CAACO,MAAM,CAACE,WAAR;AAFJ,KAAd;AAID,GALD,MAKO;AACL,QAAIF,MAAM,CAACC,WAAX,EAAwB;AACtBxC,MAAAA,KAAK,CAAC0B,KAAN,GAAc;AAAEgB,QAAAA,IAAI,EAAEV,UAAU,CAACO,MAAM,CAACC,WAAR;AAAlB,OAAd;AACD,KAFD,MAEO,IAAID,MAAM,CAACE,WAAX,EAAwB;AAC7BzC,MAAAA,KAAK,CAAC0B,KAAN,GAAc;AAAEiB,QAAAA,IAAI,EAAEX,UAAU,CAACO,MAAM,CAACE,WAAR;AAAlB,OAAd;AACD;AACF;;AACD,QAAM/B,UAAU,GAAG,MAAMX,UAAU,CAACY,IAAX,CAAgBX,KAAhB,EAAuBY,OAAvB,EAAzB;AACA,SAAOF,UAAP;AACD",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { MONGO_URL } from \"./env\";\nimport { MongoClient } from \"mongodb\";\nlet driver = new MongoClient(MONGO_URL, { useUnifiedTopology: true });\n\nexport async function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nexport async function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = { username, password };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nexport async function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = { username };\n  const toUpdate = {\n    $set: { password: newPassword },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nexport async function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({ nr_inscricao });\n  return !!property;\n}\n\nexport async function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = { nr_inscricao: nr_inscricao };\n  const toUpdate = {\n    $set: { situacao },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function addProperty(\n  nr_inscricao,\n  titulo,\n  img,\n  endereco,\n  tipo,\n  nr_dormitorios,\n  nr_banheiros,\n  nr_vagas_garagem,\n  valor\n) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      titulo,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor),\n    });\n  }\n  return insert;\n}\n\nexport async function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({ nome, telefone });\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone,\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nexport async function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n\n  var query = {};\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo),\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = { $lte: parseFloat(filter.valorMaximo) };\n    } else if (filter.valorMinimo) {\n      query.valor = { $gte: parseFloat(filter.valorMinimo) };\n    }\n  }\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607606381975
  },
  "{\"sourceRoot\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"filename\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _env = require(\"./env\");\n\nvar _db = require(\"./db\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _bcryptjs = require(\"bcryptjs\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\n\nconst bodyParser = require(\"body-parser\");\n\napp.use(bodyParser.json());\napp.use(_express.default.static(_path.default.resolve(__dirname, \"../public\"))); // REQUISIÇÕES BÁSICAS\n\napp.get(\"/properties\", async (req, res) => {\n  const filter = req.query;\n\n  if (filter) {\n    const properties = await (0, _db.getPropertiesWithFilter)(filter);\n    res.json(properties);\n  } else {\n    const properties = await (0, _db.getProperties)();\n    res.json(properties);\n  }\n}); // REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\n\napp.post(\"/login\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await (0, _db.login)(username, password);\n    res.json(!!l);\n  } else {\n    res.json(\"Problema ao efetuar login.\");\n  }\n}); // requisição para fazer troca de senha\n\napp.post(\"/reset\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await (0, _db.reset)(username, password);\n    res.json(l);\n  } else {\n    res.json(\"Problema ao atualizar senha.\");\n  }\n}); // requisição para cadastrar imóvel\n\napp.post(\"/property\", async (req, res) => {\n  const {\n    nrInscricao,\n    img,\n    endereco,\n    tipo,\n    nrDormitorios,\n    nrBanheiros,\n    nrVagas,\n    valor\n  } = req.body;\n\n  if (nrInscricao && img && endereco && tipo && nrDormitorios && nrBanheiros && nrVagas && valor) {\n    const p = await (0, _db.addProperty)(nrInscricao, img, endereco, tipo, nrDormitorios, nrBanheiros, nrVagas, valor);\n\n    if (p) {\n      res.json(!!p);\n    } else {\n      res.json(\"Já existe um imóvel com este número de inscrição.\");\n    }\n  } else {\n    res.json(\"Problema ao inserir imóvel.\");\n  }\n}); // requisição para alterar situação de um imóvel\n\napp.post(\"/update\", async (req, res) => {\n  const {\n    nrInscricao,\n    situacao\n  } = req.body;\n\n  if (nrInscricao && situacao) {\n    const item = await (0, _db.updatePropertyState)(nrInscricao, situacao);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao atualizar imóvel.\");\n  }\n}); // REQUISICOES PARA UM INQUILINO\n// requisição para manifestar interesse em um imóvel\n\napp.post(\"/interest\", async (req, res) => {\n  const {\n    nome,\n    telefone,\n    nr_inscricao\n  } = req.body;\n\n  if (nr_inscricao && telefone && nome) {\n    const item = await (0, _db.addInterest)(nr_inscricao, nome, telefone);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao inscrever interesse.\");\n  }\n});\n\nconst server = _http.default.createServer(app);\n\n(0, _db.connect)();\nserver.listen(_env.PORT, () => console.log(`Rodando em ${_env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImJvZHlQYXJzZXIiLCJyZXF1aXJlIiwidXNlIiwianNvbiIsImV4cHJlc3MiLCJzdGF0aWMiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsImZpbHRlciIsInF1ZXJ5IiwicHJvcGVydGllcyIsInBvc3QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsImwiLCJuckluc2NyaWNhbyIsImltZyIsImVuZGVyZWNvIiwidGlwbyIsIm5yRG9ybWl0b3Jpb3MiLCJuckJhbmhlaXJvcyIsIm5yVmFnYXMiLCJ2YWxvciIsInAiLCJzaXR1YWNhbyIsIml0ZW0iLCJub21lIiwidGVsZWZvbmUiLCJucl9pbnNjcmljYW8iLCJzZXJ2ZXIiLCJodHRwIiwiY3JlYXRlU2VydmVyIiwibGlzdGVuIiwiUE9SVCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBVUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsdUJBQVo7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQUYsR0FBRyxDQUFDRyxHQUFKLENBQVFGLFVBQVUsQ0FBQ0csSUFBWCxFQUFSO0FBQ0FKLEdBQUcsQ0FBQ0csR0FBSixDQUFRRSxpQkFBUUMsTUFBUixDQUFlQyxjQUFLQyxPQUFMLENBQWFDLFNBQWIsRUFBd0IsV0FBeEIsQ0FBZixDQUFSLEUsQ0FFQTs7QUFDQVQsR0FBRyxDQUFDVSxHQUFKLENBQVEsYUFBUixFQUF1QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekMsUUFBTUMsTUFBTSxHQUFHRixHQUFHLENBQUNHLEtBQW5COztBQUNBLE1BQUlELE1BQUosRUFBWTtBQUNWLFVBQU1FLFVBQVUsR0FBRyxNQUFNLGlDQUF3QkYsTUFBeEIsQ0FBekI7QUFDQUQsSUFBQUEsR0FBRyxDQUFDUixJQUFK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QUFHLENBQUNSLElBQUosQ0FBUywrQkFBVDtBQUNEO0FBQ0YsQ0FSRCxFLENBVUE7QUFDQTs7QUFDQUosR0FBRyxDQUFDZ0IsSUFBSixDQUFTLFdBQVQsRUFBc0IsT0FBT0wsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3hDLFFBQU07QUFBRW9CLElBQUFBLElBQUY7QUFBUUMsSUFBQUEsUUFBUjtBQUFrQkMsSUFBQUE7QUFBbEIsTUFBbUN2QixHQUFHLENBQUNRLElBQTdDOztBQUNBLE1BQUllLFlBQVksSUFBSUQsUUFBaEIsSUFBNEJELElBQWhDLEVBQXNDO0FBQ3BDLFVBQU1ELElBQUksR0FBRyxNQUFNLHFCQUFZRyxZQUFaLEVBQTBCRixJQUExQixFQUFnQ0MsUUFBaEMsQ0FBbkI7QUFDQXJCLElBQUFBLEdBQUcsQ0FBQ1IsSUFBSixDQUFTMkIsSUFBVDtBQUNELEdBSEQsTUFHTztBQUNMbkIsSUFBQUEsR0FBRyxDQUFDUixJQUFKLENBQVMsa0NBQVQ7QUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTStCLE1BQU0sR0FBR0MsY0FBS0MsWUFBTCxDQUFrQnJDLEdBQWxCLENBQWY7O0FBQ0E7QUFDQW1DLE1BQU0sQ0FBQ0csTUFBUCxDQUFjQyxTQUFkLEVBQW9CLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGNBQWFGLFNBQUssRUFBL0IsQ0FBMUIiLCJzb3VyY2VSb290IjoiL2hvbWUvZ2FyY2lhL0RvY3VtZW50cy9VRlNDL1dlYi90cmFiLWZpbmFsL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUE9SVCB9IGZyb20gXCIuL2VudlwiO1xuaW1wb3J0IHtcbiAgYWRkUHJvcGVydHksXG4gIGNvbm5lY3QsXG4gIGdldFByb3BlcnRpZXMsXG4gIGdldFByb3BlcnRpZXNXaXRoRmlsdGVyLFxuICBsb2dpbixcbiAgcmVzZXQsXG4gIHVwZGF0ZVByb3BlcnR5U3RhdGUsXG4gIGFkZEludGVyZXN0LFxufSBmcm9tIFwiLi9kYlwiO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgZ2VuU2FsdFN5bmMsIGhhc2hTeW5jLCBjb21wYXJlU3luYyB9IGZyb20gXCJiY3J5cHRqc1wiO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi4vcHVibGljXCIpKSk7XG5cbi8vIFJFUVVJU0nDh8OVRVMgQsOBU0lDQVNcbmFwcC5nZXQoXCIvcHJvcGVydGllc1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZmlsdGVyID0gcmVxLnF1ZXJ5O1xuICBpZiAoZmlsdGVyKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGF3YWl0IGdldFByb3BlcnRpZXNXaXRoRmlsdGVyKGZpbHRlcik7XG4gICAgcmVzLmpzb24ocHJvcGVydGllcyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGF3YWl0IGdldFByb3BlcnRpZXMoKTtcbiAgICByZXMuanNvbihwcm9wZXJ0aWVzKTtcbiAgfVxufSk7XG5cbi8vIFJFUVVJU0lDT0VTIFBBUkEgVU0gQ09SUkVUT1Jcbi8vIHJlcXVpc2nDp8OjbyBwYXJhIGFwcm92YXIgbG9naW5cbmFwcC5wb3N0KFwiL2xvZ2luXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGlmICh1c2VybmFtZSAmJiBwYXNzd29yZCkge1xuICAgIGNvbnN0IGwgPSBhd2FpdCBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgIHJlcy5qc29uKCEhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLmpzb24oXCJQcm9ibGVtYSBhbyBlZmV0dWFyIGxvZ2luLlwiKTtcbiAgfVxufSk7XG5cbi8vIHJlcXVpc2nDp8OjbyBwYXJhIGZhemVyIHRyb2NhIGRlIHNlbmhhXG5hcHAucG9zdChcIi9yZXNldFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICBpZiAodXNlcm5hbWUgJiYgcGFzc3dvcmQpIHtcbiAgICBjb25zdCBsID0gYXdhaXQgcmVzZXQodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICByZXMuanNvbihsKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbihcIlByb2JsZW1hIGFvIGF0dWFsaXphciBzZW5oYS5cIik7XG4gIH1cbn0pO1xuXG4vLyByZXF1aXNpw6fDo28gcGFyYSBjYWRhc3RyYXIgaW3Ds3ZlbFxuYXBwLnBvc3QoXCIvcHJvcGVydHlcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBuckluc2NyaWNhbyxcbiAgICBpbWcsXG4gICAgZW5kZXJlY28sXG4gICAgdGlwbyxcbiAgICBuckRvcm1pdG9yaW9zLFxuICAgIG5yQmFuaGVpcm9zLFxuICAgIG5yVmFnYXMsXG4gICAgdmFsb3IsXG4gIH0gPSByZXEuYm9keTtcbiAgaWYgKFxuICAgIG5ySW5zY3JpY2FvICYmXG4gICAgaW1nICYmXG4gICAgZW5kZXJlY28gJiZcbiAgICB0aXBvICYmXG4gICAgbnJEb3JtaXRvcmlvcyAmJlxuICAgIG5yQmFuaGVpcm9zICYmXG4gICAgbnJWYWdhcyAmJlxuICAgIHZhbG9yXG4gICkge1xuICAgIGNvbnN0IHAgPSBhd2FpdCBhZGRQcm9wZXJ0eShcbiAgICAgIG5ySW5zY3JpY2FvLFxuICAgICAgaW1nLFxuICAgICAgZW5kZXJlY28sXG4gICAgICB0aXBvLFxuICAgICAgbnJEb3JtaXRvcmlvcyxcbiAgICAgIG5yQmFuaGVpcm9zLFxuICAgICAgbnJWYWdhcyxcbiAgICAgIHZhbG9yXG4gICAgKTtcbiAgICBpZiAocCkge1xuICAgICAgcmVzLmpzb24oISFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLmpzb24oXCJKw6EgZXhpc3RlIHVtIGltw7N2ZWwgY29tIGVzdGUgbsO6bWVybyBkZSBpbnNjcmnDp8Ojby5cIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5qc29uKFwiUHJvYmxlbWEgYW8gaW5zZXJpciBpbcOzdmVsLlwiKTtcbiAgfVxufSk7XG5cbi8vIHJlcXVpc2nDp8OjbyBwYXJhIGFsdGVyYXIgc2l0dWHDp8OjbyBkZSB1bSBpbcOzdmVsXG5hcHAucG9zdChcIi91cGRhdGVcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgbnJJbnNjcmljYW8sIHNpdHVhY2FvIH0gPSByZXEuYm9keTtcbiAgaWYgKG5ySW5zY3JpY2FvICYmIHNpdHVhY2FvKSB7XG4gICAgY29uc3QgaXRlbSA9IGF3YWl0IHVwZGF0ZVByb3BlcnR5U3RhdGUobnJJbnNjcmljYW8sIHNpdHVhY2FvKTtcbiAgICByZXMuanNvbihpdGVtKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbihcIlByb2JsZW1hIGFvIGF0dWFsaXphciBpbcOzdmVsLlwiKTtcbiAgfVxufSk7XG5cbi8vIFJFUVVJU0lDT0VTIFBBUkEgVU0gSU5RVUlMSU5PXG4vLyByZXF1aXNpw6fDo28gcGFyYSBtYW5pZmVzdGFyIGludGVyZXNzZSBlbSB1bSBpbcOzdmVsXG5hcHAucG9zdChcIi9pbnRlcmVzdFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBub21lLCB0ZWxlZm9uZSwgbnJfaW5zY3JpY2FvIH0gPSByZXEuYm9keTtcbiAgaWYgKG5yX2luc2NyaWNhbyAmJiB0ZWxlZm9uZSAmJiBub21lKSB7XG4gICAgY29uc3QgaXRlbSA9IGF3YWl0IGFkZEludGVyZXN0KG5yX2luc2NyaWNhbywgbm9tZSwgdGVsZWZvbmUpO1xuICAgIHJlcy5qc29uKGl0ZW0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5qc29uKFwiUHJvYmxlbWEgYW8gaW5zY3JldmVyIGludGVyZXNzZS5cIik7XG4gIH1cbn0pO1xuXG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuY29ubmVjdCgpO1xuc2VydmVyLmxpc3RlbihQT1JULCAoKSA9PiBjb25zb2xlLmxvZyhgUm9kYW5kbyBlbSAke1BPUlR9YCkpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "bodyParser",
        "require",
        "use",
        "json",
        "express",
        "static",
        "path",
        "resolve",
        "__dirname",
        "get",
        "req",
        "res",
        "filter",
        "query",
        "properties",
        "post",
        "username",
        "password",
        "body",
        "l",
        "nrInscricao",
        "img",
        "endereco",
        "tipo",
        "nrDormitorios",
        "nrBanheiros",
        "nrVagas",
        "valor",
        "p",
        "situacao",
        "item",
        "nome",
        "telefone",
        "nr_inscricao",
        "server",
        "http",
        "createServer",
        "listen",
        "PORT",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AAUA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;;AACA,MAAMC,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACAF,GAAG,CAACG,GAAJ,CAAQF,UAAU,CAACG,IAAX,EAAR;AACAJ,GAAG,CAACG,GAAJ,CAAQE,iBAAQC,MAAR,CAAeC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,WAAxB,CAAf,CAAR,E,CAEA;;AACAT,GAAG,CAACU,GAAJ,CAAQ,aAAR,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAnB;;AACA,MAAID,MAAJ,EAAY;AACV,UAAME,UAAU,GAAG,MAAM,iCAAwBF,MAAxB,CAAzB;AACAD,IAAAA,GAAG,CAACR,IAAJ,CAASW,UAAT;AACD,GAHD,MAGO;AACL,UAAMA,UAAU,GAAG,MAAM,wBAAzB;AACAH,IAAAA,GAAG,CAACR,IAAJ,CAASW,UAAT;AACD;AACF,CATD,E,CAWA;AACA;;AACAf,GAAG,CAACgB,IAAJ,CAAS,QAAT,EAAmB,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACrC,QAAM;AAAEK,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBP,GAAG,CAACQ,IAAnC;;AACA,MAAIF,QAAQ,IAAIC,QAAhB,EAA0B;AACxB,UAAME,CAAC,GAAG,MAAM,eAAMH,QAAN,EAAgBC,QAAhB,CAAhB;AACAN,IAAAA,GAAG,CAACR,IAAJ,CAAS,CAAC,CAACgB,CAAX;AACD,GAHD,MAGO;AACLR,IAAAA,GAAG,CAACR,IAAJ,CAAS,4BAAT;AACD;AACF,CARD,E,CAUA;;AACAJ,GAAG,CAACgB,IAAJ,CAAS,QAAT,EAAmB,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACrC,QAAM;AAAEK,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBP,GAAG,CAACQ,IAAnC;;AACA,MAAIF,QAAQ,IAAIC,QAAhB,EAA0B;AACxB,UAAME,CAAC,GAAG,MAAM,eAAMH,QAAN,EAAgBC,QAAhB,CAAhB;AACAN,IAAAA,GAAG,CAACR,IAAJ,CAASgB,CAAT;AACD,GAHD,MAGO;AACLR,IAAAA,GAAG,CAACR,IAAJ,CAAS,8BAAT;AACD;AACF,CARD,E,CAUA;;AACAJ,GAAG,CAACgB,IAAJ,CAAS,WAAT,EAAsB,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACxC,QAAM;AACJS,IAAAA,WADI;AAEJC,IAAAA,GAFI;AAGJC,IAAAA,QAHI;AAIJC,IAAAA,IAJI;AAKJC,IAAAA,aALI;AAMJC,IAAAA,WANI;AAOJC,IAAAA,OAPI;AAQJC,IAAAA;AARI,MASFjB,GAAG,CAACQ,IATR;;AAUA,MACEE,WAAW,IACXC,GADA,IAEAC,QAFA,IAGAC,IAHA,IAIAC,aAJA,IAKAC,WALA,IAMAC,OANA,IAOAC,KARF,EASE;AACA,UAAMC,CAAC,GAAG,MAAM,qBACdR,WADc,EAEdC,GAFc,EAGdC,QAHc,EAIdC,IAJc,EAKdC,aALc,EAMdC,WANc,EAOdC,OAPc,EAQdC,KARc,CAAhB;;AAUA,QAAIC,CAAJ,EAAO;AACLjB,MAAAA,GAAG,CAACR,IAAJ,CAAS,CAAC,CAACyB,CAAX;AACD,KAFD,MAEO;AACLjB,MAAAA,GAAG,CAACR,IAAJ,CAAS,mDAAT;AACD;AACF,GAzBD,MAyBO;AACLQ,IAAAA,GAAG,CAACR,IAAJ,CAAS,6BAAT;AACD;AACF,CAvCD,E,CAyCA;;AACAJ,GAAG,CAACgB,IAAJ,CAAS,SAAT,EAAoB,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AAAES,IAAAA,WAAF;AAAeS,IAAAA;AAAf,MAA4BnB,GAAG,CAACQ,IAAtC;;AACA,MAAIE,WAAW,IAAIS,QAAnB,EAA6B;AAC3B,UAAMC,IAAI,GAAG,MAAM,6BAAoBV,WAApB,EAAiCS,QAAjC,CAAnB;AACAlB,IAAAA,GAAG,CAACR,IAAJ,CAAS2B,IAAT;AACD,GAHD,MAGO;AACLnB,IAAAA,GAAG,CAACR,IAAJ,CAAS,+BAAT;AACD;AACF,CARD,E,CAUA;AACA;;AACAJ,GAAG,CAACgB,IAAJ,CAAS,WAAT,EAAsB,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACxC,QAAM;AAAEoB,IAAAA,IAAF;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA;AAAlB,MAAmCvB,GAAG,CAACQ,IAA7C;;AACA,MAAIe,YAAY,IAAID,QAAhB,IAA4BD,IAAhC,EAAsC;AACpC,UAAMD,IAAI,GAAG,MAAM,qBAAYG,YAAZ,EAA0BF,IAA1B,EAAgCC,QAAhC,CAAnB;AACArB,IAAAA,GAAG,CAACR,IAAJ,CAAS2B,IAAT;AACD,GAHD,MAGO;AACLnB,IAAAA,GAAG,CAACR,IAAJ,CAAS,kCAAT;AACD;AACF,CARD;;AAUA,MAAM+B,MAAM,GAAGC,cAAKC,YAAL,CAAkBrC,GAAlB,CAAf;;AACA;AACAmC,MAAM,CAACG,MAAP,CAAcC,SAAd,EAAoB,MAAMC,OAAO,CAACC,GAAR,CAAa,cAAaF,SAAK,EAA/B,CAA1B",
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { PORT } from \"./env\";\nimport {\n  addProperty,\n  connect,\n  getProperties,\n  getPropertiesWithFilter,\n  login,\n  reset,\n  updatePropertyState,\n  addInterest,\n} from \"./db\";\nimport express from \"express\";\nimport http from \"http\";\nimport path from \"path\";\nimport { genSaltSync, hashSync, compareSync } from \"bcryptjs\";\n\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.use(express.static(path.resolve(__dirname, \"../public\")));\n\n// REQUISIÇÕES BÁSICAS\napp.get(\"/properties\", async (req, res) => {\n  const filter = req.query;\n  if (filter) {\n    const properties = await getPropertiesWithFilter(filter);\n    res.json(properties);\n  } else {\n    const properties = await getProperties();\n    res.json(properties);\n  }\n});\n\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\napp.post(\"/login\", async (req, res) => {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await login(username, password);\n    res.json(!!l);\n  } else {\n    res.json(\"Problema ao efetuar login.\");\n  }\n});\n\n// requisição para fazer troca de senha\napp.post(\"/reset\", async (req, res) => {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await reset(username, password);\n    res.json(l);\n  } else {\n    res.json(\"Problema ao atualizar senha.\");\n  }\n});\n\n// requisição para cadastrar imóvel\napp.post(\"/property\", async (req, res) => {\n  const {\n    nrInscricao,\n    img,\n    endereco,\n    tipo,\n    nrDormitorios,\n    nrBanheiros,\n    nrVagas,\n    valor,\n  } = req.body;\n  if (\n    nrInscricao &&\n    img &&\n    endereco &&\n    tipo &&\n    nrDormitorios &&\n    nrBanheiros &&\n    nrVagas &&\n    valor\n  ) {\n    const p = await addProperty(\n      nrInscricao,\n      img,\n      endereco,\n      tipo,\n      nrDormitorios,\n      nrBanheiros,\n      nrVagas,\n      valor\n    );\n    if (p) {\n      res.json(!!p);\n    } else {\n      res.json(\"Já existe um imóvel com este número de inscrição.\");\n    }\n  } else {\n    res.json(\"Problema ao inserir imóvel.\");\n  }\n});\n\n// requisição para alterar situação de um imóvel\napp.post(\"/update\", async (req, res) => {\n  const { nrInscricao, situacao } = req.body;\n  if (nrInscricao && situacao) {\n    const item = await updatePropertyState(nrInscricao, situacao);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao atualizar imóvel.\");\n  }\n});\n\n// REQUISICOES PARA UM INQUILINO\n// requisição para manifestar interesse em um imóvel\napp.post(\"/interest\", async (req, res) => {\n  const { nome, telefone, nr_inscricao } = req.body;\n  if (nr_inscricao && telefone && nome) {\n    const item = await addInterest(nr_inscricao, nome, telefone);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao inscrever interesse.\");\n  }\n});\n\nconst server = http.createServer(app);\nconnect();\nserver.listen(PORT, () => console.log(`Rodando em ${PORT}`));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607281717463
  },
  "{\"sourceRoot\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"filename\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MONGO_URL = exports.PORT = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-console */\nconst env = _path.default.join(__dirname, \"../.env\");\n\n_dotenv.default.config({\n  path: env\n});\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\nconst PORT = parseInt(process.env.PORT);\nexports.PORT = PORT;\nconst MONGO_URL = process.env.MONGO_URL;\nexports.MONGO_URL = MONGO_URL;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImRvdGVudiIsImNvbmZpZyIsImVycm9yIiwicHJvY2VzcyIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTU9OR09fVVJMIiwiZXhpdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBLE1BQU1BLEdBQUcsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCLENBQVo7O0FBQ0FDLGdCQUFPQyxNQUFQLENBQWM7QUFBRUosRUFBQUEsSUFBSSxFQUFFRDtBQUFSLENBQWQ7O0FBRUEsSUFBSU0sS0FBSyxHQUFHLEtBQVo7O0FBRUEsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVEsSUFBakIsRUFBdUI7QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRUQsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVcsU0FBakIsRUFBNEI7QUFDMUJGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRURBLEtBQUssSUFBSUMsT0FBTyxDQUFDSyxJQUFSLENBQWEsQ0FBYixDQUFUO0FBRUEsTUFBTUosSUFBSSxHQUFHSyxRQUFRLENBQUNOLE9BQU8sQ0FBQ1AsR0FBUixDQUFZUSxJQUFiLENBQXJCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osT0FBTyxDQUFDUCxHQUFSLENBQVlXLFNBQTlCIiwic291cmNlUm9vdCI6Ii9ob21lL2dhcmNpYS9Eb2N1bWVudHMvVUZTQy9XZWIvdHJhYi1maW5hbC93ZWItcHJvcGVydHktcmVudGFsL2JhY2tlbmQvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcblxuY29uc3QgZW52ID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCIuLi8uZW52XCIpO1xuZG90ZW52LmNvbmZpZyh7IHBhdGg6IGVudiB9KTtcblxubGV0IGVycm9yID0gZmFsc2U7XG5cbmlmICghcHJvY2Vzcy5lbnYuUE9SVCkge1xuICBjb25zb2xlLmxvZyhcIkRlZmluYSBhIHZhcmnDoXZlbCBQT1JUIGVtIGJhY2tlbmQvLmVudiBcXG5cIik7XG4gIGVycm9yID0gdHJ1ZTtcbn1cblxuaWYgKCFwcm9jZXNzLmVudi5NT05HT19VUkwpIHtcbiAgY29uc29sZS5sb2coXCJEZWZpbmEgYSB2YXJpw6F2ZWwgTU9OR09fVVJMIGVtIGJhY2tlbmQvLmVudlwiKTtcbiAgZXJyb3IgPSB0cnVlO1xufVxuXG5lcnJvciAmJiBwcm9jZXNzLmV4aXQoMSk7XG5cbmNvbnN0IFBPUlQgPSBwYXJzZUludChwcm9jZXNzLmVudi5QT1JUKTtcbmNvbnN0IE1PTkdPX1VSTCA9IHByb2Nlc3MuZW52Lk1PTkdPX1VSTDtcbmV4cG9ydCB7IFBPUlQsIE1PTkdPX1VSTCB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "env",
        "path",
        "join",
        "__dirname",
        "dotenv",
        "config",
        "error",
        "process",
        "PORT",
        "console",
        "log",
        "MONGO_URL",
        "exit",
        "parseInt"
      ],
      "mappings": ";;;;;;;AACA;;AACA;;;;AAFA;AAIA,MAAMA,GAAG,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAZ;;AACAC,gBAAOC,MAAP,CAAc;AAAEJ,EAAAA,IAAI,EAAED;AAAR,CAAd;;AAEA,IAAIM,KAAK,GAAG,KAAZ;;AAEA,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYQ,IAAjB,EAAuB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAED,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYW,SAAjB,EAA4B;AAC1BF,EAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAEDA,KAAK,IAAIC,OAAO,CAACK,IAAR,CAAa,CAAb,CAAT;AAEA,MAAMJ,IAAI,GAAGK,QAAQ,CAACN,OAAO,CAACP,GAAR,CAAYQ,IAAb,CAArB;;AACA,MAAMG,SAAS,GAAGJ,OAAO,CAACP,GAAR,CAAYW,SAA9B",
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "sourcesContent": [
        "/* eslint-disable no-console */\nimport path from \"path\";\nimport dotenv from \"dotenv\";\n\nconst env = path.join(__dirname, \"../.env\");\ndotenv.config({ path: env });\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\n\nconst PORT = parseInt(process.env.PORT);\nconst MONGO_URL = process.env.MONGO_URL;\nexport { PORT, MONGO_URL };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607198337720
  },
  "{\"sourceRoot\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"filename\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.login = login;\nexports.reset = reset;\nexports.getProperties = getProperties;\nexports.getPropertyByInscricao = getPropertyByInscricao;\nexports.updatePropertyState = updatePropertyState;\nexports.addProperty = addProperty;\nexports.addInterest = addInterest;\nexports.getPropertiesWithFilter = getPropertiesWithFilter;\n\nvar _env = require(\"./env\");\n\nvar _mongodb = require(\"mongodb\");\n\nlet driver = new _mongodb.MongoClient(_env.MONGO_URL, {\n  useUnifiedTopology: true\n});\n\nasync function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nasync function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username,\n    password\n  };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nasync function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username\n  };\n  const toUpdate = {\n    $set: {\n      password: newPassword\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nasync function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({\n    nr_inscricao\n  });\n  return !!property;\n}\n\nasync function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = {\n    nr_inscricao: nr_inscricao\n  };\n  const toUpdate = {\n    $set: {\n      situacao\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function addProperty(nr_inscricao, img, endereco, tipo, nr_dormitorios, nr_banheiros, nr_vagas_garagem, valor) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor)\n    });\n  }\n\n  return insert;\n}\n\nasync function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({\n      nome,\n      telefone\n    });\n\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nasync function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n  var query = {};\n\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo)\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = {\n        $lte: parseFloat(filter.valorMaximo)\n      };\n    } else if (filter.valorMinimo) {\n      query.valor = {\n        $gte: parseFloat(filter.valorMinimo)\n      };\n    }\n  }\n\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImRyaXZlciIsIk1vbmdvQ2xpZW50IiwiTU9OR09fVVJMIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwiZGIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ1c2VyIiwiZmluZE9uZSIsInJlc2V0IiwibmV3UGFzc3dvcmQiLCJ0b1VwZGF0ZSIsIiRzZXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJmaW5kIiwidG9BcnJheSIsImdldFByb3BlcnR5QnlJbnNjcmljYW8iLCJucl9pbnNjcmljYW8iLCJwcm9wZXJ0eSIsInVwZGF0ZVByb3BlcnR5U3RhdGUiLCJzaXR1YWNhbyIsImFkZFByb3BlcnR5IiwiaW1nIiwiZW5kZXJlY28iLCJ0aXBvIiwibnJfZG9ybWl0b3Jpb3MiLCJucl9iYW5oZWlyb3MiLCJucl92YWdhc19nYXJhZ2VtIiwidmFsb3IiLCJpbnNlcnQiLCJnZXRQcm9wZXJ0eSIsIm5ySW5zY3JpY2FvIiwiaW5zZXJ0T25lIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwiYWRkSW50ZXJlc3QiLCJub21lIiwidGVsZWZvbmUiLCJsZW5ndGgiLCJpdGVtIiwiZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIiLCJmaWx0ZXIiLCJ2YWxvck1heGltbyIsInZhbG9yTWluaW1vIiwiJGx0ZSIsIiRndGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUlBLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixDQUFnQkMsY0FBaEIsRUFBMkI7QUFBRUMsRUFBQUEsa0JBQWtCLEVBQUU7QUFBdEIsQ0FBM0IsQ0FBYjs7QUFFTyxlQUFlQyxPQUFmLEdBQXlCO0FBQzlCSixFQUFBQSxNQUFNLENBQUNJLE9BQVAsQ0FBZSxDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUM1QixRQUFJRCxHQUFKLEVBQVM7QUFDUEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFDRDs7QUFDREwsSUFBQUEsTUFBTSxHQUFHTSxJQUFJLENBQUNHLEVBQUwsQ0FBUSxxQkFBUixDQUFUO0FBQ0QsR0FMRDtBQU1EOztBQUVNLGVBQWVDLEtBQWYsQ0FBcUJDLFFBQXJCLEVBQStCQyxRQUEvQixFQUF5QztBQUM5QyxRQUFNQyxVQUFVLEdBQUdiLE1BQU0sQ0FBQ2EsVUFBUCxDQUFrQixNQUFsQixDQUFuQjtBQUNBLFFBQU1DLEtBQUssR0FBRztBQUFFSCxJQUFBQSxRQUFGO0FBQVlDLElBQUFBO0FBQVosR0FBZDtBQUNBLFFBQU1HLElBQUksR0FBRyxNQUFNRixVQUFVLENBQUNHLE9BQVgsQ0FBbUJGLEtBQW5CLENBQW5CO0FBQ0EsU0FBT0MsSUFBUDtBQUNEOztBQUVNLGVBQWVFLEtBQWYsQ0FBcUJOLFFBQXJCLEVBQStCTyxXQUEvQixFQUE0QztBQUNqRCxRQUFNTCxVQUFVLEdBQUdiLE1BQU0sQ0FBQ2EsVUFBUCxDQUFrQixNQUFsQixDQUFuQjtBQUNBLFFBQU1DLEtBQUssR0FBRztBQUFFSCxJQUFBQTtBQUFGLEdBQWQ7QUFDQSxRQUFNUSxRQUFRLEdBQUc7QUFDZkMsSUFBQUEsSUFBSSxFQUFFO0FBQUVSLE1BQUFBLFFBQVEsRUFBRU07QUFBWjtBQURTLEdBQWpCO0FBR0EsUUFBTUcsT0FBTyxHQUFHLE1BQU1SLFVBQVUsQ0FBQ1MsU0FBWCxDQUFxQlIsS0FBckIsRUFBNEJLLFFBQTVCLENBQXRCO0FBQ0EsU0FBT0UsT0FBUDtBQUNEOztBQUVNLGVBQWVFLGFBQWYsR0FBK0I7QUFDcEMsUUFBTVYsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxRQUFNVyxVQUFVLEdBQUcsTUFBTVgsVUFBVSxDQUFDWSxJQUFYLEdBQWtCQyxPQUFsQixFQUF6QjtBQUNBLFNBQU9GLFVBQVA7QUFDRDs7QUFFTSxlQUFlRyxzQkFBZixDQUFzQ0MsWUFBdEMsRUFBb0Q7QUFDekQsUUFBTWYsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxRQUFNZ0IsUUFBUSxHQUFHLE1BQU1oQixVQUFVLENBQUNHLE9BQVgsQ0FBbUI7QUFBRVksSUFBQUE7QUFBRixHQUFuQixDQUF2QjtBQUNBLFNBQU8sQ0FBQyxDQUFDQyxRQUFUO0FBQ0Q7O0FBRU0sZUFBZUMsbUJBQWYsQ0FBbUNGLFlBQW5DLEVBQWlERyxRQUFqRCxFQUEyRDtBQUNoRSxRQUFNbEIsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxRQUFNQyxLQUFLLEdBQUc7QUFBRWMsSUFBQUEsWUFBWSxFQUFFQTtBQUFoQixHQUFkO0FBQ0EsUUFBTVQsUUFBUSxHQUFHO0FBQ2ZDLElBQUFBLElBQUksRUFBRTtBQUFFVyxNQUFBQTtBQUFGO0FBRFMsR0FBakI7QUFHQSxRQUFNVixPQUFPLEdBQUcsTUFBTVIsVUFBVSxDQUFDUyxTQUFYLENBQXFCUixLQUFyQixFQUE0QkssUUFBNUIsQ0FBdEI7QUFDQSxTQUFPRSxPQUFQO0FBQ0Q7O0FBRU0sZUFBZVcsV0FBZixDQUNMSixZQURLLEVBRUxLLEdBRkssRUFHTEMsUUFISyxFQUlMQyxJQUpLLEVBS0xDLGNBTEssRUFNTEMsWUFOSyxFQU9MQyxnQkFQSyxFQVFMQyxLQVJLLEVBU0w7QUFDQSxRQUFNMUIsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxNQUFJMkIsTUFBTSxHQUFHLElBQWI7O0FBQ0EsTUFBSSxDQUFDLENBQUNDLFdBQVcsQ0FBQ0MsV0FBRCxDQUFqQixFQUFnQztBQUM5QkYsSUFBQUEsTUFBTSxHQUFHLE1BQU0zQixVQUFVLENBQUM4QixTQUFYLENBQXFCO0FBQ2xDZixNQUFBQSxZQURrQztBQUVsQ0ssTUFBQUEsR0FGa0M7QUFHbENDLE1BQUFBLFFBSGtDO0FBSWxDQyxNQUFBQSxJQUprQztBQUtsQ0MsTUFBQUEsY0FBYyxFQUFFUSxRQUFRLENBQUNSLGNBQUQsQ0FMVTtBQU1sQ0MsTUFBQUEsWUFBWSxFQUFFTyxRQUFRLENBQUNQLFlBQUQsQ0FOWTtBQU9sQ0MsTUFBQUEsZ0JBQWdCLEVBQUVNLFFBQVEsQ0FBQ04sZ0JBQUQsQ0FQUTtBQVFsQ0MsTUFBQUEsS0FBSyxFQUFFTSxVQUFVLENBQUNOLEtBQUQ7QUFSaUIsS0FBckIsQ0FBZjtBQVVEOztBQUNELFNBQU9DLE1BQVA7QUFDRDs7QUFFTSxlQUFlTSxXQUFmLENBQTJCbEIsWUFBM0IsRUFBeUNtQixJQUF6QyxFQUErQ0MsUUFBL0MsRUFBeUQ7QUFDOUQsUUFBTW5CLFFBQVEsR0FBRyxNQUFNRixzQkFBc0IsQ0FBQ0MsWUFBRCxDQUE3Qzs7QUFDQSxNQUFJQyxRQUFKLEVBQWM7QUFDWixVQUFNaEIsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxVQUFNb0MsTUFBTSxHQUFHLE1BQU1wQyxVQUFVLENBQUNZLElBQVgsQ0FBZ0I7QUFBRXNCLE1BQUFBLElBQUY7QUFBUUMsTUFBQUE7QUFBUixLQUFoQixDQUFyQjs7QUFDQSxRQUFJQyxNQUFNLEdBQUcsQ0FBYixFQUFnQjtBQUNkLGFBQU8sMkRBQVA7QUFDRCxLQUZELE1BRU87QUFDTCxZQUFNQyxJQUFJLEdBQUcsTUFBTXJDLFVBQVUsQ0FBQzhCLFNBQVgsQ0FBcUI7QUFDdENmLFFBQUFBLFlBRHNDO0FBRXRDbUIsUUFBQUEsSUFGc0M7QUFHdENDLFFBQUFBO0FBSHNDLE9BQXJCLENBQW5CO0FBS0EsYUFBT0UsSUFBUDtBQUNEO0FBQ0YsR0FiRCxNQWFPO0FBQ0wsV0FBTyx5QkFBUDtBQUNEO0FBQ0Y7O0FBRU0sZUFBZUMsdUJBQWYsQ0FBdUNDLE1BQXZDLEVBQStDO0FBQ3BELFFBQU12QyxVQUFVLEdBQUdiLE1BQU0sQ0FBQ2EsVUFBUCxDQUFrQixVQUFsQixDQUFuQjtBQUVBLE1BQUlDLEtBQUssR0FBRyxFQUFaOztBQUNBLE1BQUlzQyxNQUFNLENBQUNqQixJQUFYLEVBQWlCO0FBQ2ZyQixJQUFBQSxLQUFLLENBQUNxQixJQUFOLEdBQWFpQixNQUFNLENBQUNqQixJQUFwQjtBQUNEOztBQUNELE1BQUlpQixNQUFNLENBQUNmLFlBQVgsRUFBeUI7QUFDdkJ2QixJQUFBQSxLQUFLLENBQUN1QixZQUFOLEdBQXFCTyxRQUFRLENBQUNRLE1BQU0sQ0FBQ2YsWUFBUixDQUE3QjtBQUNEOztBQUNELE1BQUllLE1BQU0sQ0FBQ2hCLGNBQVgsRUFBMkI7QUFDekJ0QixJQUFBQSxLQUFLLENBQUNzQixjQUFOLEdBQXVCUSxRQUFRLENBQUNRLE1BQU0sQ0FBQ2hCLGNBQVIsQ0FBL0I7QUFDRDs7QUFDRCxNQUFJZ0IsTUFBTSxDQUFDZCxnQkFBWCxFQUE2QjtBQUMzQnhCLElBQUFBLEtBQUssQ0FBQ3dCLGdCQUFOLEdBQXlCTSxRQUFRLENBQUNRLE1BQU0sQ0FBQ2QsZ0JBQVIsQ0FBakM7QUFDRDs7QUFFRCxNQUFJYyxNQUFNLENBQUNDLFdBQVAsSUFBc0JELE1BQU0sQ0FBQ0UsV0FBakMsRUFBOEM7QUFDNUN4QyxJQUFBQSxLQUFLLENBQUN5QixLQUFOLEdBQWM7QUFDWmdCLE1BQUFBLElBQUksRUFBRVYsVUFBVSxDQUFDTyxNQUFNLENBQUNDLFdBQVIsQ0FESjtBQUVaRyxNQUFBQSxJQUFJLEVBQUVYLFVBQVUsQ0FBQ08sTUFBTSxDQUFDRSxXQUFSO0FBRkosS0FBZDtBQUlELEdBTEQsTUFLTztBQUNMLFFBQUlGLE1BQU0sQ0FBQ0MsV0FBWCxFQUF3QjtBQUN0QnZDLE1BQUFBLEtBQUssQ0FBQ3lCLEtBQU4sR0FBYztBQUFFZ0IsUUFBQUEsSUFBSSxFQUFFVixVQUFVLENBQUNPLE1BQU0sQ0FBQ0MsV0FBUjtBQUFsQixPQUFkO0FBQ0QsS0FGRCxNQUVPLElBQUlELE1BQU0sQ0FBQ0UsV0FBWCxFQUF3QjtBQUM3QnhDLE1BQUFBLEtBQUssQ0FBQ3lCLEtBQU4sR0FBYztBQUFFaUIsUUFBQUEsSUFBSSxFQUFFWCxVQUFVLENBQUNPLE1BQU0sQ0FBQ0UsV0FBUjtBQUFsQixPQUFkO0FBQ0Q7QUFDRjs7QUFDRCxRQUFNOUIsVUFBVSxHQUFHLE1BQU1YLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQlgsS0FBaEIsRUFBdUJZLE9BQXZCLEVBQXpCO0FBQ0EsU0FBT0YsVUFBUDtBQUNEIiwic291cmNlUm9vdCI6Ii9ob21lL2dhcmNpYS9Eb2N1bWVudHMvVUZTQy9XZWIvdHJhYi1maW5hbC93ZWItcHJvcGVydHktcmVudGFsL2JhY2tlbmQvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1PTkdPX1VSTCB9IGZyb20gXCIuL2VudlwiO1xuaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tIFwibW9uZ29kYlwiO1xubGV0IGRyaXZlciA9IG5ldyBNb25nb0NsaWVudChNT05HT19VUkwsIHsgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgZHJpdmVyLmNvbm5lY3QoKGVyciwgY29ubikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfVxuICAgIGRyaXZlciA9IGNvbm4uZGIoXCJXRUJfUFJPUEVSVFlfUkVOVEFMXCIpO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJ1c2VyXCIpO1xuICBjb25zdCBxdWVyeSA9IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH07XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmRPbmUocXVlcnkpO1xuICByZXR1cm4gdXNlcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0KHVzZXJuYW1lLCBuZXdQYXNzd29yZCkge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJ1c2VyXCIpO1xuICBjb25zdCBxdWVyeSA9IHsgdXNlcm5hbWUgfTtcbiAgY29uc3QgdG9VcGRhdGUgPSB7XG4gICAgJHNldDogeyBwYXNzd29yZDogbmV3UGFzc3dvcmQgfSxcbiAgfTtcbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGNvbGxlY3Rpb24udXBkYXRlT25lKHF1ZXJ5LCB0b1VwZGF0ZSk7XG4gIHJldHVybiB1cGRhdGVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvcGVydGllcygpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KCk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvcGVydHlCeUluc2NyaWNhbyhucl9pbnNjcmljYW8pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHByb3BlcnR5ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHsgbnJfaW5zY3JpY2FvIH0pO1xuICByZXR1cm4gISFwcm9wZXJ0eTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5U3RhdGUobnJfaW5zY3JpY2FvLCBzaXR1YWNhbykge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IG5yX2luc2NyaWNhbzogbnJfaW5zY3JpY2FvIH07XG4gIGNvbnN0IHRvVXBkYXRlID0ge1xuICAgICRzZXQ6IHsgc2l0dWFjYW8gfSxcbiAgfTtcbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGNvbGxlY3Rpb24udXBkYXRlT25lKHF1ZXJ5LCB0b1VwZGF0ZSk7XG4gIHJldHVybiB1cGRhdGVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkUHJvcGVydHkoXG4gIG5yX2luc2NyaWNhbyxcbiAgaW1nLFxuICBlbmRlcmVjbyxcbiAgdGlwbyxcbiAgbnJfZG9ybWl0b3Jpb3MsXG4gIG5yX2JhbmhlaXJvcyxcbiAgbnJfdmFnYXNfZ2FyYWdlbSxcbiAgdmFsb3Jcbikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgbGV0IGluc2VydCA9IG51bGw7XG4gIGlmICghIWdldFByb3BlcnR5KG5ySW5zY3JpY2FvKSkge1xuICAgIGluc2VydCA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgIGltZyxcbiAgICAgIGVuZGVyZWNvLFxuICAgICAgdGlwbyxcbiAgICAgIG5yX2Rvcm1pdG9yaW9zOiBwYXJzZUludChucl9kb3JtaXRvcmlvcyksXG4gICAgICBucl9iYW5oZWlyb3M6IHBhcnNlSW50KG5yX2JhbmhlaXJvcyksXG4gICAgICBucl92YWdhc19nYXJhZ2VtOiBwYXJzZUludChucl92YWdhc19nYXJhZ2VtKSxcbiAgICAgIHZhbG9yOiBwYXJzZUZsb2F0KHZhbG9yKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zZXJ0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSW50ZXJlc3QobnJfaW5zY3JpY2FvLCBub21lLCB0ZWxlZm9uZSkge1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGdldFByb3BlcnR5QnlJbnNjcmljYW8obnJfaW5zY3JpY2FvKTtcbiAgaWYgKHByb3BlcnR5KSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwiaW50ZXJlc3RcIik7XG4gICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHsgbm9tZSwgdGVsZWZvbmUgfSk7XG4gICAgaWYgKGxlbmd0aCA+IDMpIHtcbiAgICAgIHJldHVybiBcIlZvY8OqIGF0aW5naXUgbyBuw7ptZXJvIG3DoXhpbW8gZGUgcmVxdWlzacOnw7VlcyBkZSBpbnRlcmVzc2UuXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgICAgbm9tZSxcbiAgICAgICAgdGVsZWZvbmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJFc3RlIGltw7N2ZWwgbsOjbyBleGlzdGUuXCI7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnRpZXNXaXRoRmlsdGVyKGZpbHRlcikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcblxuICB2YXIgcXVlcnkgPSB7fTtcbiAgaWYgKGZpbHRlci50aXBvKSB7XG4gICAgcXVlcnkudGlwbyA9IGZpbHRlci50aXBvO1xuICB9XG4gIGlmIChmaWx0ZXIubnJfYmFuaGVpcm9zKSB7XG4gICAgcXVlcnkubnJfYmFuaGVpcm9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2JhbmhlaXJvcyk7XG4gIH1cbiAgaWYgKGZpbHRlci5ucl9kb3JtaXRvcmlvcykge1xuICAgIHF1ZXJ5Lm5yX2Rvcm1pdG9yaW9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2Rvcm1pdG9yaW9zKTtcbiAgfVxuICBpZiAoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pIHtcbiAgICBxdWVyeS5ucl92YWdhc19nYXJhZ2VtID0gcGFyc2VJbnQoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pO1xuICB9XG5cbiAgaWYgKGZpbHRlci52YWxvck1heGltbyAmJiBmaWx0ZXIudmFsb3JNaW5pbW8pIHtcbiAgICBxdWVyeS52YWxvciA9IHtcbiAgICAgICRsdGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWF4aW1vKSxcbiAgICAgICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGlmIChmaWx0ZXIudmFsb3JNYXhpbW8pIHtcbiAgICAgIHF1ZXJ5LnZhbG9yID0geyAkbHRlOiBwYXJzZUZsb2F0KGZpbHRlci52YWxvck1heGltbykgfTtcbiAgICB9IGVsc2UgaWYgKGZpbHRlci52YWxvck1pbmltbykge1xuICAgICAgcXVlcnkudmFsb3IgPSB7ICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSB9O1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHF1ZXJ5KS50b0FycmF5KCk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "driver",
        "MongoClient",
        "MONGO_URL",
        "useUnifiedTopology",
        "connect",
        "err",
        "conn",
        "console",
        "log",
        "db",
        "login",
        "username",
        "password",
        "collection",
        "query",
        "user",
        "findOne",
        "reset",
        "newPassword",
        "toUpdate",
        "$set",
        "updated",
        "updateOne",
        "getProperties",
        "properties",
        "find",
        "toArray",
        "getPropertyByInscricao",
        "nr_inscricao",
        "property",
        "updatePropertyState",
        "situacao",
        "addProperty",
        "img",
        "endereco",
        "tipo",
        "nr_dormitorios",
        "nr_banheiros",
        "nr_vagas_garagem",
        "valor",
        "insert",
        "getProperty",
        "nrInscricao",
        "insertOne",
        "parseInt",
        "parseFloat",
        "addInterest",
        "nome",
        "telefone",
        "length",
        "item",
        "getPropertiesWithFilter",
        "filter",
        "valorMaximo",
        "valorMinimo",
        "$lte",
        "$gte"
      ],
      "mappings": "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",
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { MONGO_URL } from \"./env\";\nimport { MongoClient } from \"mongodb\";\nlet driver = new MongoClient(MONGO_URL, { useUnifiedTopology: true });\n\nexport async function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nexport async function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = { username, password };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nexport async function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = { username };\n  const toUpdate = {\n    $set: { password: newPassword },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nexport async function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({ nr_inscricao });\n  return !!property;\n}\n\nexport async function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = { nr_inscricao: nr_inscricao };\n  const toUpdate = {\n    $set: { situacao },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function addProperty(\n  nr_inscricao,\n  img,\n  endereco,\n  tipo,\n  nr_dormitorios,\n  nr_banheiros,\n  nr_vagas_garagem,\n  valor\n) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor),\n    });\n  }\n  return insert;\n}\n\nexport async function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({ nome, telefone });\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone,\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nexport async function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n\n  var query = {};\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo),\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = { $lte: parseFloat(filter.valorMaximo) };\n    } else if (filter.valorMinimo) {\n      query.valor = { $gte: parseFloat(filter.valorMinimo) };\n    }\n  }\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607281717463
  },
  "{\"sourceRoot\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"filename\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MONGO_URL = exports.PORT = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-console */\nconst env = _path.default.join(__dirname, \"../.env\");\n\n_dotenv.default.config({\n  path: env\n});\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\nconst PORT = parseInt(process.env.PORT);\nexports.PORT = PORT;\nconst MONGO_URL = process.env.MONGO_URL;\nexports.MONGO_URL = MONGO_URL;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImRvdGVudiIsImNvbmZpZyIsImVycm9yIiwicHJvY2VzcyIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTU9OR09fVVJMIiwiZXhpdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBLE1BQU1BLEdBQUcsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCLENBQVo7O0FBQ0FDLGdCQUFPQyxNQUFQLENBQWM7QUFBRUosRUFBQUEsSUFBSSxFQUFFRDtBQUFSLENBQWQ7O0FBRUEsSUFBSU0sS0FBSyxHQUFHLEtBQVo7O0FBRUEsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVEsSUFBakIsRUFBdUI7QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRUQsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVcsU0FBakIsRUFBNEI7QUFDMUJGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRURBLEtBQUssSUFBSUMsT0FBTyxDQUFDSyxJQUFSLENBQWEsQ0FBYixDQUFUO0FBRUEsTUFBTUosSUFBSSxHQUFHSyxRQUFRLENBQUNOLE9BQU8sQ0FBQ1AsR0FBUixDQUFZUSxJQUFiLENBQXJCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osT0FBTyxDQUFDUCxHQUFSLENBQVlXLFNBQTlCIiwic291cmNlUm9vdCI6Ii9ob21lL2dhcmNpYS9Eb2N1bWVudHMvVUZTQy9XZWIvdHJhYi1maW5hbC93ZWItcHJvcGVydHktcmVudGFsL2JhY2tlbmQvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcblxuY29uc3QgZW52ID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCIuLi8uZW52XCIpO1xuZG90ZW52LmNvbmZpZyh7IHBhdGg6IGVudiB9KTtcblxubGV0IGVycm9yID0gZmFsc2U7XG5cbmlmICghcHJvY2Vzcy5lbnYuUE9SVCkge1xuICBjb25zb2xlLmxvZyhcIkRlZmluYSBhIHZhcmnDoXZlbCBQT1JUIGVtIGJhY2tlbmQvLmVudiBcXG5cIik7XG4gIGVycm9yID0gdHJ1ZTtcbn1cblxuaWYgKCFwcm9jZXNzLmVudi5NT05HT19VUkwpIHtcbiAgY29uc29sZS5sb2coXCJEZWZpbmEgYSB2YXJpw6F2ZWwgTU9OR09fVVJMIGVtIGJhY2tlbmQvLmVudlwiKTtcbiAgZXJyb3IgPSB0cnVlO1xufVxuXG5lcnJvciAmJiBwcm9jZXNzLmV4aXQoMSk7XG5cbmNvbnN0IFBPUlQgPSBwYXJzZUludChwcm9jZXNzLmVudi5QT1JUKTtcbmNvbnN0IE1PTkdPX1VSTCA9IHByb2Nlc3MuZW52Lk1PTkdPX1VSTDtcbmV4cG9ydCB7IFBPUlQsIE1PTkdPX1VSTCB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "env",
        "path",
        "join",
        "__dirname",
        "dotenv",
        "config",
        "error",
        "process",
        "PORT",
        "console",
        "log",
        "MONGO_URL",
        "exit",
        "parseInt"
      ],
      "mappings": ";;;;;;;AACA;;AACA;;;;AAFA;AAIA,MAAMA,GAAG,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAZ;;AACAC,gBAAOC,MAAP,CAAc;AAAEJ,EAAAA,IAAI,EAAED;AAAR,CAAd;;AAEA,IAAIM,KAAK,GAAG,KAAZ;;AAEA,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYQ,IAAjB,EAAuB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAED,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYW,SAAjB,EAA4B;AAC1BF,EAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAEDA,KAAK,IAAIC,OAAO,CAACK,IAAR,CAAa,CAAb,CAAT;AAEA,MAAMJ,IAAI,GAAGK,QAAQ,CAACN,OAAO,CAACP,GAAR,CAAYQ,IAAb,CAArB;;AACA,MAAMG,SAAS,GAAGJ,OAAO,CAACP,GAAR,CAAYW,SAA9B",
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "sourcesContent": [
        "/* eslint-disable no-console */\nimport path from \"path\";\nimport dotenv from \"dotenv\";\n\nconst env = path.join(__dirname, \"../.env\");\ndotenv.config({ path: env });\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\n\nconst PORT = parseInt(process.env.PORT);\nconst MONGO_URL = process.env.MONGO_URL;\nexport { PORT, MONGO_URL };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607198337720
  },
  "{\"sourceRoot\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"filename\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.login = login;\nexports.reset = reset;\nexports.getProperties = getProperties;\nexports.getPropertyByInscricao = getPropertyByInscricao;\nexports.updatePropertyState = updatePropertyState;\nexports.addProperty = addProperty;\nexports.addInterest = addInterest;\nexports.getPropertiesWithFilter = getPropertiesWithFilter;\n\nvar _env = require(\"./env\");\n\nvar _mongodb = require(\"mongodb\");\n\nlet driver = new _mongodb.MongoClient(_env.MONGO_URL, {\n  useUnifiedTopology: true\n});\n\nasync function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nasync function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username,\n    password\n  };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nasync function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username\n  };\n  const toUpdate = {\n    $set: {\n      password: newPassword\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nasync function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({\n    nr_inscricao\n  });\n  return !!property;\n}\n\nasync function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = {\n    nr_inscricao: nr_inscricao\n  };\n  const toUpdate = {\n    $set: {\n      situacao\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function addProperty(nr_inscricao, img, endereco, tipo, nr_dormitorios, nr_banheiros, nr_vagas_garagem, valor) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor)\n    });\n  }\n\n  return insert;\n}\n\nasync function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({\n      nome,\n      telefone\n    });\n\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nasync function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n  var query = {};\n\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo)\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = {\n        $lte: parseFloat(filter.valorMaximo)\n      };\n    } else if (filter.valorMinimo) {\n      query.valor = {\n        $gte: parseFloat(filter.valorMinimo)\n      };\n    }\n  }\n\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImRyaXZlciIsIk1vbmdvQ2xpZW50IiwiTU9OR09fVVJMIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwiZGIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ1c2VyIiwiZmluZE9uZSIsInJlc2V0IiwibmV3UGFzc3dvcmQiLCJ0b1VwZGF0ZSIsIiRzZXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJmaW5kIiwidG9BcnJheSIsImdldFByb3BlcnR5QnlJbnNjcmljYW8iLCJucl9pbnNjcmljYW8iLCJwcm9wZXJ0eSIsInVwZGF0ZVByb3BlcnR5U3RhdGUiLCJzaXR1YWNhbyIsImFkZFByb3BlcnR5IiwiaW1nIiwiZW5kZXJlY28iLCJ0aXBvIiwibnJfZG9ybWl0b3Jpb3MiLCJucl9iYW5oZWlyb3MiLCJucl92YWdhc19nYXJhZ2VtIiwidmFsb3IiLCJpbnNlcnQiLCJnZXRQcm9wZXJ0eSIsIm5ySW5zY3JpY2FvIiwiaW5zZXJ0T25lIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwiYWRkSW50ZXJlc3QiLCJub21lIiwidGVsZWZvbmUiLCJsZW5ndGgiLCJpdGVtIiwiZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIiLCJmaWx0ZXIiLCJ2YWxvck1heGltbyIsInZhbG9yTWluaW1vIiwiJGx0ZSIsIiRndGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUlBLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixDQUFnQkMsY0FBaEIsRUFBMkI7QUFBRUMsRUFBQUEsa0JBQWtCLEVBQUU7QUFBdEIsQ0FBM0IsQ0FBYjs7QUFFTyxlQUFlQyxPQUFmLEdBQXlCO0FBQzlCSixFQUFBQSxNQUFNLENBQUNJLE9BQVAsQ0FBZSxDQUFDQyxHQUFELEVB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UjtBQUFsQixPQUFkO0FBQ0Q7QUFDRjs7QUFDRCxRQUFNOUIsVUFBVSxHQUFHLE1BQU1YLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQlgsS0FBaEIsRUFBdUJZLE9BQXZCLEVBQXpCO0FBQ0EsU0FBT0YsVUFBUDtBQUNEIiwic291cmNlUm9vdCI6Ii9ob21lL2dhcmNpYS9Eb2N1bWVudHMvVUZTQy9XZWIvdHJhYi1maW5hbC93ZWItcHJvcGVydHktcmVudGFsL2JhY2tlbmQvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1PTkdPX1VSTCB9IGZyb20gXCIuL2VudlwiO1xuaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tIFwibW9uZ29kYlwiO1xubGV0IGRyaXZlciA9IG5ldyBNb25nb0NsaWVudChNT05HT19VUkwsIHsgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgZHJpdmVyLmNvbm5lY3QoKGVyciwgY29ubikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfVxuICAgIGRyaXZlciA9IGNvbm4uZGIoXCJXRUJfUFJPUEVSVFlfUkVOVEFMXCIpO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJ1c2VyXCIpO1xuICBjb25zdCBxdWVyeSA9IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH07XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmRPbmUocXVlcnkpO1xuICByZXR1cm4gdXNlcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0KHVzZXJuYW1lLCBuZXdQYXNzd29yZCkge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJ1c2VyXCIpO1xuICBjb25zdCBxdWVyeSA9IHsgdXNlcm5hbWUgfTtcbiAgY29uc3QgdG9VcGRhdGUgPSB7XG4gICAgJHNldDogeyBwYXNzd29yZDogbmV3UGFzc3dvcmQgfSxcbiAgfTtcbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGNvbGxlY3Rpb24udXBkYXRlT25lKHF1ZXJ5LCB0b1VwZGF0ZSk7XG4gIHJldHVybiB1cGRhdGVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvcGVydGllcygpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KCk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvcGVydHlCeUluc2NyaWNhbyhucl9pbnNjcmljYW8pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHByb3BlcnR5ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHsgbnJfaW5zY3JpY2FvIH0pO1xuICByZXR1cm4gISFwcm9wZXJ0eTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5U3RhdGUobnJfaW5zY3JpY2FvLCBzaXR1YWNhbykge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IG5yX2luc2NyaWNhbzogbnJfaW5zY3JpY2FvIH07XG4gIGNvbnN0IHRvVXBkYXRlID0ge1xuICAgICRzZXQ6IHsgc2l0dWFjYW8gfSxcbiAgfTtcbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGNvbGxlY3Rpb24udXBkYXRlT25lKHF1ZXJ5LCB0b1VwZGF0ZSk7XG4gIHJldHVybiB1cGRhdGVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkUHJvcGVydHkoXG4gIG5yX2luc2NyaWNhbyxcbiAgaW1nLFxuICBlbmRlcmVjbyxcbiAgdGlwbyxcbiAgbnJfZG9ybWl0b3Jpb3MsXG4gIG5yX2JhbmhlaXJvcyxcbiAgbnJfdmFnYXNfZ2FyYWdlbSxcbiAgdmFsb3Jcbikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgbGV0IGluc2VydCA9IG51bGw7XG4gIGlmICghIWdldFByb3BlcnR5KG5ySW5zY3JpY2FvKSkge1xuICAgIGluc2VydCA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgIGltZyxcbiAgICAgIGVuZGVyZWNvLFxuICAgICAgdGlwbyxcbiAgICAgIG5yX2Rvcm1pdG9yaW9zOiBwYXJzZUludChucl9kb3JtaXRvcmlvcyksXG4gICAgICBucl9iYW5oZWlyb3M6IHBhcnNlSW50KG5yX2JhbmhlaXJvcyksXG4gICAgICBucl92YWdhc19nYXJhZ2VtOiBwYXJzZUludChucl92YWdhc19nYXJhZ2VtKSxcbiAgICAgIHZhbG9yOiBwYXJzZUZsb2F0KHZhbG9yKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zZXJ0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSW50ZXJlc3QobnJfaW5zY3JpY2FvLCBub21lLCB0ZWxlZm9uZSkge1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGdldFByb3BlcnR5QnlJbnNjcmljYW8obnJfaW5zY3JpY2FvKTtcbiAgaWYgKHByb3BlcnR5KSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwiaW50ZXJlc3RcIik7XG4gICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHsgbm9tZSwgdGVsZWZvbmUgfSk7XG4gICAgaWYgKGxlbmd0aCA+IDMpIHtcbiAgICAgIHJldHVybiBcIlZvY8OqIGF0aW5naXUgbyBuw7ptZXJvIG3DoXhpbW8gZGUgcmVxdWlzacOnw7VlcyBkZSBpbnRlcmVzc2UuXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICAgIG5yX2luc2NyaWNhbyxcbiAgICAgICAgbm9tZSxcbiAgICAgICAgdGVsZWZvbmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJFc3RlIGltw7N2ZWwgbsOjbyBleGlzdGUuXCI7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnRpZXNXaXRoRmlsdGVyKGZpbHRlcikge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcblxuICB2YXIgcXVlcnkgPSB7fTtcbiAgaWYgKGZpbHRlci50aXBvKSB7XG4gICAgcXVlcnkudGlwbyA9IGZpbHRlci50aXBvO1xuICB9XG4gIGlmIChmaWx0ZXIubnJfYmFuaGVpcm9zKSB7XG4gICAgcXVlcnkubnJfYmFuaGVpcm9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2JhbmhlaXJvcyk7XG4gIH1cbiAgaWYgKGZpbHRlci5ucl9kb3JtaXRvcmlvcykge1xuICAgIHF1ZXJ5Lm5yX2Rvcm1pdG9yaW9zID0gcGFyc2VJbnQoZmlsdGVyLm5yX2Rvcm1pdG9yaW9zKTtcbiAgfVxuICBpZiAoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pIHtcbiAgICBxdWVyeS5ucl92YWdhc19nYXJhZ2VtID0gcGFyc2VJbnQoZmlsdGVyLm5yX3ZhZ2FzX2dhcmFnZW0pO1xuICB9XG5cbiAgaWYgKGZpbHRlci52YWxvck1heGltbyAmJiBmaWx0ZXIudmFsb3JNaW5pbW8pIHtcbiAgICBxdWVyeS52YWxvciA9IHtcbiAgICAgICRsdGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWF4aW1vKSxcbiAgICAgICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGlmIChmaWx0ZXIudmFsb3JNYXhpbW8pIHtcbiAgICAgIHF1ZXJ5LnZhbG9yID0geyAkbHRlOiBwYXJzZUZsb2F0KGZpbHRlci52YWxvck1heGltbykgfTtcbiAgICB9IGVsc2UgaWYgKGZpbHRlci52YWxvck1pbmltbykge1xuICAgICAgcXVlcnkudmFsb3IgPSB7ICRndGU6IHBhcnNlRmxvYXQoZmlsdGVyLnZhbG9yTWluaW1vKSB9O1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHF1ZXJ5KS50b0FycmF5KCk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "driver",
        "MongoClient",
        "MONGO_URL",
        "useUnifiedTopology",
        "connect",
        "err",
        "conn",
        "console",
        "log",
        "db",
        "login",
        "username",
        "password",
        "collection",
        "query",
        "user",
        "findOne",
        "reset",
        "newPassword",
        "toUpdate",
        "$set",
        "updated",
        "updateOne",
        "getProperties",
        "properties",
        "find",
        "toArray",
        "getPropertyByInscricao",
        "nr_inscricao",
        "property",
        "updatePropertyState",
        "situacao",
        "addProperty",
        "img",
        "endereco",
        "tipo",
        "nr_dormitorios",
        "nr_banheiros",
        "nr_vagas_garagem",
        "valor",
        "insert",
        "getProperty",
        "nrInscricao",
        "insertOne",
        "parseInt",
        "parseFloat",
        "addInterest",
        "nome",
        "telefone",
        "length",
        "item",
        "getPropertiesWithFilter",
        "filter",
        "valorMaximo",
        "valorMinimo",
        "$lte",
        "$gte"
      ],
      "mappings": "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",
      "sourceRoot": "/home/garcia/Documents/UFSC/Web/trab-final/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { MONGO_URL } from \"./env\";\nimport { MongoClient } from \"mongodb\";\nlet driver = new MongoClient(MONGO_URL, { useUnifiedTopology: true });\n\nexport async function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nexport async function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = { username, password };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nexport async function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = { username };\n  const toUpdate = {\n    $set: { password: newPassword },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nexport async function getPropertyByInscricao(nr_inscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({ nr_inscricao });\n  return !!property;\n}\n\nexport async function updatePropertyState(nr_inscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = { nr_inscricao: nr_inscricao };\n  const toUpdate = {\n    $set: { situacao },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function addProperty(\n  nr_inscricao,\n  img,\n  endereco,\n  tipo,\n  nr_dormitorios,\n  nr_banheiros,\n  nr_vagas_garagem,\n  valor\n) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: parseInt(nr_dormitorios),\n      nr_banheiros: parseInt(nr_banheiros),\n      nr_vagas_garagem: parseInt(nr_vagas_garagem),\n      valor: parseFloat(valor),\n    });\n  }\n  return insert;\n}\n\nexport async function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({ nome, telefone });\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome,\n        telefone,\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n\nexport async function getPropertiesWithFilter(filter) {\n  const collection = driver.collection(\"property\");\n\n  var query = {};\n  if (filter.tipo) {\n    query.tipo = filter.tipo;\n  }\n  if (filter.nr_banheiros) {\n    query.nr_banheiros = parseInt(filter.nr_banheiros);\n  }\n  if (filter.nr_dormitorios) {\n    query.nr_dormitorios = parseInt(filter.nr_dormitorios);\n  }\n  if (filter.nr_vagas_garagem) {\n    query.nr_vagas_garagem = parseInt(filter.nr_vagas_garagem);\n  }\n\n  if (filter.valorMaximo && filter.valorMinimo) {\n    query.valor = {\n      $lte: parseFloat(filter.valorMaximo),\n      $gte: parseFloat(filter.valorMinimo),\n    };\n  } else {\n    if (filter.valorMaximo) {\n      query.valor = { $lte: parseFloat(filter.valorMaximo) };\n    } else if (filter.valorMinimo) {\n      query.valor = { $gte: parseFloat(filter.valorMinimo) };\n    }\n  }\n  const properties = await collection.find(query).toArray();\n  return properties;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607281717463
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst routes = _express.default.Router(); // // REQUISIÇÕES BÁSICAS\n// app.get(\"/properties\", async (req, res) => {\n//   const filter = req.query;\n//   if (filter) {\n//     const properties = await getPropertiesWithFilter(filter);\n//     res.json(properties);\n//   } else {\n//     const properties = await getProperties();\n//     res.json(properties);\n//   }\n// });\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\n\n\nasync function login(req, res) {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await login(username, password);\n    res.json({\n      ok: true\n    });\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao efetuar login.\"\n    });\n  }\n} // // requisição para fazer troca de senha\n// app.post(\"/reset\", async (req, res) => {\n//   const { username, password } = req.body;\n//   if (username && password) {\n//     const l = await reset(username, password);\n//     res.json(l);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar senha.\" });\n//   }\n// });\n// // requisição para cadastrar imóvel\n// app.post(\"/property\", async (req, res) => {\n//   const {\n//     nrInscricao,\n//     titulo,\n//     img,\n//     endereco,\n//     tipo,\n//     nrDormitorios,\n//     nrBanheiros,\n//     nrVagas,\n//     valor,\n//   } = req.body;\n//   if (\n//     nrInscricao &&\n//     img &&\n//     titulo &&\n//     endereco &&\n//     tipo &&\n//     nrDormitorios &&\n//     nrBanheiros &&\n//     nrVagas &&\n//     valor\n//   ) {\n//     const p = await addProperty(\n//       nrInscricao,\n//       titulo,\n//       img,\n//       endereco,\n//       tipo,\n//       nrDormitorios,\n//       nrBanheiros,\n//       nrVagas,\n//       valor\n//     );\n//     if (p) {\n//       res.json({ ok: true });\n//     } else {\n//       res.json({\n//         ok: false,\n//         message: \"Já existe um imóvel com este número de inscrição.\",\n//       });\n//     }\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inserir imóvel.\" });\n//   }\n// });\n// // requisição para alterar situação de um imóvel\n// app.post(\"/update\", async (req, res) => {\n//   const { nrInscricao, situacao } = req.body;\n//   if (nrInscricao && situacao) {\n//     const item = await updatePropertyState(nrInscricao, situacao);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar imóvel.\" });\n//   }\n// });\n// // REQUISICOES PARA UM INQUILINO\n// // requisição para manifestar interesse em um imóvel\n// app.post(\"/interest\", async (req, res) => {\n//   const { nome, telefone, nr_inscricao } = req.body;\n//   if (nr_inscricao && telefone && nome) {\n//     const item = await addInterest(nr_inscricao, nome, telefone);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inscrever interesse.\" });\n//   }\n// });\n\n\nroutes.post(\"/login\", login);\nvar _default = routes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwibG9naW4iLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsImwiLCJqc29uIiwib2siLCJtZXNzYWdlIiwicG9zdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBQ0EsZUFBZUMsS0FBZixDQUFxQkMsR0FBckIsRUFBMEJDLEdBQTFCLEVBQStCO0FBQzdCLFFBQU07QUFBRUMsSUFBQUEsUUFBRjtBQUFZQyxJQUFBQTtBQUFaLE1BQXlCSCxHQUFHLENBQUNJLElBQW5DOztBQUNBLE1BQUlGLFFBQVEsSUFBSUMsUUFBaEIsRUFBMEI7QUFDeEIsVUFBTUUsQ0FBQyxHQUFHLE1BQU1OLEtBQUssQ0FBQ0csUUFBRCxFQUFXQyxRQUFYLENBQXJCO0FBQ0FGLElBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTO0FBQUVDLE1BQUFBLEVBQUUsRUFBRTtBQUFOLEtBQVQ7QUFDRCxHQUhELE1BR087QUFDTE4sSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRUMsTUFBQUEsRUFBRSxFQUFFLEtBQU47QUFBYUMsTUFBQUEsT0FBTyxFQUFFO0FBQXRCLEtBQVQ7QUFDRDtBQUNGLEMsQ0FFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBWixNQUFNLENBQUNhLElBQVAsQ0FBWSxRQUFaLEVBQXNCVixLQUF0QjtlQUVlSCxNIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcblxuY29uc3Qgcm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLy8gLy8gUkVRVUlTScOHw5VFUyBCw4FTSUNBU1xuLy8gYXBwLmdldChcIi9wcm9wZXJ0aWVzXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCBmaWx0ZXIgPSByZXEucXVlcnk7XG4vLyAgIGlmIChmaWx0ZXIpIHtcbi8vICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIoZmlsdGVyKTtcbi8vICAgICByZXMuanNvbihwcm9wZXJ0aWVzKTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgZ2V0UHJvcGVydGllcygpO1xuLy8gICAgIHJlcy5qc29uKHByb3BlcnRpZXMpO1xuLy8gICB9XG4vLyB9KTtcblxuLy8gUkVRVUlTSUNPRVMgUEFSQSBVTSBDT1JSRVRPUlxuLy8gcmVxdWlzacOnw6NvIHBhcmEgYXByb3ZhciBsb2dpblxuYXN5bmMgZnVuY3Rpb24gbG9naW4ocmVxLCByZXMpIHtcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICBpZiAodXNlcm5hbWUgJiYgcGFzc3dvcmQpIHtcbiAgICBjb25zdCBsID0gYXdhaXQgbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICByZXMuanNvbih7IG9rOiB0cnVlIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5qc29uKHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlByb2JsZW1hIGFvIGVmZXR1YXIgbG9naW4uXCIgfSk7XG4gIH1cbn1cblxuLy8gLy8gcmVxdWlzacOnw6NvIHBhcmEgZmF6ZXIgdHJvY2EgZGUgc2VuaGFcbi8vIGFwcC5wb3N0KFwiL3Jlc2V0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4vLyAgIGlmICh1c2VybmFtZSAmJiBwYXNzd29yZCkge1xuLy8gICAgIGNvbnN0IGwgPSBhd2FpdCByZXNldCh1c2VybmFtZSwgcGFzc3dvcmQpO1xuLy8gICAgIHJlcy5qc29uKGwpO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIHJlcy5qc29uKHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlByb2JsZW1hIGFvIGF0dWFsaXphciBzZW5oYS5cIiB9KTtcbi8vICAgfVxuLy8gfSk7XG5cbi8vIC8vIHJlcXVpc2nDp8OjbyBwYXJhIGNhZGFzdHJhciBpbcOzdmVsXG4vLyBhcHAucG9zdChcIi9wcm9wZXJ0eVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbi8vICAgY29uc3Qge1xuLy8gICAgIG5ySW5zY3JpY2FvLFxuLy8gICAgIHRpdHVsbyxcbi8vICAgICBpbWcsXG4vLyAgICAgZW5kZXJlY28sXG4vLyAgICAgdGlwbyxcbi8vICAgICBuckRvcm1pdG9yaW9zLFxuLy8gICAgIG5yQmFuaGVpcm9zLFxuLy8gICAgIG5yVmFnYXMsXG4vLyAgICAgdmFsb3IsXG4vLyAgIH0gPSByZXEuYm9keTtcbi8vICAgaWYgKFxuLy8gICAgIG5ySW5zY3JpY2FvICYmXG4vLyAgICAgaW1nICYmXG4vLyAgICAgdGl0dWxvICYmXG4vLyAgICAgZW5kZXJlY28gJiZcbi8vICAgICB0aXBvICYmXG4vLyAgICAgbnJEb3JtaXRvcmlvcyAmJlxuLy8gICAgIG5yQmFuaGVpcm9zICYmXG4vLyAgICAgbnJWYWdhcyAmJlxuLy8gICAgIHZhbG9yXG4vLyAgICkge1xuLy8gICAgIGNvbnN0IHAgPSBhd2FpdCBhZGRQcm9wZXJ0eShcbi8vICAgICAgIG5ySW5zY3JpY2FvLFxuLy8gICAgICAgdGl0dWxvLFxuLy8gICAgICAgaW1nLFxuLy8gICAgICAgZW5kZXJlY28sXG4vLyAgICAgICB0aXBvLFxuLy8gICAgICAgbnJEb3JtaXRvcmlvcyxcbi8vICAgICAgIG5yQmFuaGVpcm9zLFxuLy8gICAgICAgbnJWYWdhcyxcbi8vICAgICAgIHZhbG9yXG4vLyAgICAgKTtcbi8vICAgICBpZiAocCkge1xuLy8gICAgICAgcmVzLmpzb24oeyBvazogdHJ1ZSB9KTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgcmVzLmpzb24oe1xuLy8gICAgICAgICBvazogZmFsc2UsXG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiSsOhIGV4aXN0ZSB1bSBpbcOzdmVsIGNvbSBlc3RlIG7Dum1lcm8gZGUgaW5zY3Jpw6fDo28uXCIsXG4vLyAgICAgICB9KTtcbi8vICAgICB9XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgcmVzLmpzb24oeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiUHJvYmxlbWEgYW8gaW5zZXJpciBpbcOzdmVsLlwiIH0pO1xuLy8gICB9XG4vLyB9KTtcblxuLy8gLy8gcmVxdWlzacOnw6NvIHBhcmEgYWx0ZXJhciBzaXR1YcOnw6NvIGRlIHVtIGltw7N2ZWxcbi8vIGFwcC5wb3N0KFwiL3VwZGF0ZVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbi8vICAgY29uc3QgeyBuckluc2NyaWNhbywgc2l0dWFjYW8gfSA9IHJlcS5ib2R5O1xuLy8gICBpZiAobnJJbnNjcmljYW8gJiYgc2l0dWFjYW8pIHtcbi8vICAgICBjb25zdCBpdGVtID0gYXdhaXQgdXBkYXRlUHJvcGVydHlTdGF0ZShuckluc2NyaWNhbywgc2l0dWFjYW8pO1xuLy8gICAgIHJlcy5qc29uKGl0ZW0pO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIHJlcy5qc29uKHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlByb2JsZW1hIGFvIGF0dWFsaXphciBpbcOzdmVsLlwiIH0pO1xuLy8gICB9XG4vLyB9KTtcblxuLy8gLy8gUkVRVUlTSUNPRVMgUEFSQSBVTSBJTlFVSUxJTk9cbi8vIC8vIHJlcXVpc2nDp8OjbyBwYXJhIG1hbmlmZXN0YXIgaW50ZXJlc3NlIGVtIHVtIGltw7N2ZWxcbi8vIGFwcC5wb3N0KFwiL2ludGVyZXN0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCB7IG5vbWUsIHRlbGVmb25lLCBucl9pbnNjcmljYW8gfSA9IHJlcS5ib2R5O1xuLy8gICBpZiAobnJfaW5zY3JpY2FvICYmIHRlbGVmb25lICYmIG5vbWUpIHtcbi8vICAgICBjb25zdCBpdGVtID0gYXdhaXQgYWRkSW50ZXJlc3QobnJfaW5zY3JpY2FvLCBub21lLCB0ZWxlZm9uZSk7XG4vLyAgICAgcmVzLmpzb24oaXRlbSk7XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgcmVzLmpzb24oeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiUHJvYmxlbWEgYW8gaW5zY3JldmVyIGludGVyZXNzZS5cIiB9KTtcbi8vICAgfVxuLy8gfSk7XG5cbnJvdXRlcy5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVzO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "routes",
        "express",
        "Router",
        "login",
        "req",
        "res",
        "username",
        "password",
        "body",
        "l",
        "json",
        "ok",
        "message",
        "post"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AACA,eAAeC,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;AAC7B,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBH,GAAG,CAACI,IAAnC;;AACA,MAAIF,QAAQ,IAAIC,QAAhB,EAA0B;AACxB,UAAME,CAAC,GAAG,MAAMN,KAAK,CAACG,QAAD,EAAWC,QAAX,CAArB;AACAF,IAAAA,GAAG,CAACK,IAAJ,CAAS;AAAEC,MAAAA,EAAE,EAAE;AAAN,KAAT;AACD,GAHD,MAGO;AACLN,IAAAA,GAAG,CAACK,IAAJ,CAAS;AAAEC,MAAAA,EAAE,EAAE,KAAN;AAAaC,MAAAA,OAAO,EAAE;AAAtB,KAAT;AACD;AACF,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAZ,MAAM,CAACa,IAAP,CAAY,QAAZ,EAAsBV,KAAtB;eAEeH,M",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import express from \"express\";\n\nconst routes = express.Router();\n\n// // REQUISIÇÕES BÁSICAS\n// app.get(\"/properties\", async (req, res) => {\n//   const filter = req.query;\n//   if (filter) {\n//     const properties = await getPropertiesWithFilter(filter);\n//     res.json(properties);\n//   } else {\n//     const properties = await getProperties();\n//     res.json(properties);\n//   }\n// });\n\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\nasync function login(req, res) {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await login(username, password);\n    res.json({ ok: true });\n  } else {\n    res.json({ ok: false, message: \"Problema ao efetuar login.\" });\n  }\n}\n\n// // requisição para fazer troca de senha\n// app.post(\"/reset\", async (req, res) => {\n//   const { username, password } = req.body;\n//   if (username && password) {\n//     const l = await reset(username, password);\n//     res.json(l);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar senha.\" });\n//   }\n// });\n\n// // requisição para cadastrar imóvel\n// app.post(\"/property\", async (req, res) => {\n//   const {\n//     nrInscricao,\n//     titulo,\n//     img,\n//     endereco,\n//     tipo,\n//     nrDormitorios,\n//     nrBanheiros,\n//     nrVagas,\n//     valor,\n//   } = req.body;\n//   if (\n//     nrInscricao &&\n//     img &&\n//     titulo &&\n//     endereco &&\n//     tipo &&\n//     nrDormitorios &&\n//     nrBanheiros &&\n//     nrVagas &&\n//     valor\n//   ) {\n//     const p = await addProperty(\n//       nrInscricao,\n//       titulo,\n//       img,\n//       endereco,\n//       tipo,\n//       nrDormitorios,\n//       nrBanheiros,\n//       nrVagas,\n//       valor\n//     );\n//     if (p) {\n//       res.json({ ok: true });\n//     } else {\n//       res.json({\n//         ok: false,\n//         message: \"Já existe um imóvel com este número de inscrição.\",\n//       });\n//     }\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inserir imóvel.\" });\n//   }\n// });\n\n// // requisição para alterar situação de um imóvel\n// app.post(\"/update\", async (req, res) => {\n//   const { nrInscricao, situacao } = req.body;\n//   if (nrInscricao && situacao) {\n//     const item = await updatePropertyState(nrInscricao, situacao);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar imóvel.\" });\n//   }\n// });\n\n// // REQUISICOES PARA UM INQUILINO\n// // requisição para manifestar interesse em um imóvel\n// app.post(\"/interest\", async (req, res) => {\n//   const { nome, telefone, nr_inscricao } = req.body;\n//   if (nr_inscricao && telefone && nome) {\n//     const item = await addInterest(nr_inscricao, nome, telefone);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inscrever interesse.\" });\n//   }\n// });\n\nroutes.post(\"/login\", login);\n\nexport default routes;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607617394332
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst routes = _express.default.Router(); // // REQUISIÇÕES BÁSICAS\n// app.get(\"/properties\", async (req, res) => {\n//   const filter = req.query;\n//   if (filter) {\n//     const properties = await getPropertiesWithFilter(filter);\n//     res.json(properties);\n//   } else {\n//     const properties = await getProperties();\n//     res.json(properties);\n//   }\n// });\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\n\n\nasync function login(req, res) {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await login(username, password);\n    res.json({\n      ok: true\n    });\n  } else {\n    res.json({\n      ok: false,\n      message: \"Problema ao efetuar login.\"\n    });\n  }\n} // // requisição para fazer troca de senha\n// app.post(\"/reset\", async (req, res) => {\n//   const { username, password } = req.body;\n//   if (username && password) {\n//     const l = await reset(username, password);\n//     res.json(l);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar senha.\" });\n//   }\n// });\n// // requisição para cadastrar imóvel\n// app.post(\"/property\", async (req, res) => {\n//   const {\n//     nrInscricao,\n//     titulo,\n//     img,\n//     endereco,\n//     tipo,\n//     nrDormitorios,\n//     nrBanheiros,\n//     nrVagas,\n//     valor,\n//   } = req.body;\n//   if (\n//     nrInscricao &&\n//     img &&\n//     titulo &&\n//     endereco &&\n//     tipo &&\n//     nrDormitorios &&\n//     nrBanheiros &&\n//     nrVagas &&\n//     valor\n//   ) {\n//     const p = await addProperty(\n//       nrInscricao,\n//       titulo,\n//       img,\n//       endereco,\n//       tipo,\n//       nrDormitorios,\n//       nrBanheiros,\n//       nrVagas,\n//       valor\n//     );\n//     if (p) {\n//       res.json({ ok: true });\n//     } else {\n//       res.json({\n//         ok: false,\n//         message: \"Já existe um imóvel com este número de inscrição.\",\n//       });\n//     }\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inserir imóvel.\" });\n//   }\n// });\n// // requisição para alterar situação de um imóvel\n// app.post(\"/update\", async (req, res) => {\n//   const { nrInscricao, situacao } = req.body;\n//   if (nrInscricao && situacao) {\n//     const item = await updatePropertyState(nrInscricao, situacao);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar imóvel.\" });\n//   }\n// });\n// // REQUISICOES PARA UM INQUILINO\n// // requisição para manifestar interesse em um imóvel\n// app.post(\"/interest\", async (req, res) => {\n//   const { nome, telefone, nr_inscricao } = req.body;\n//   if (nr_inscricao && telefone && nome) {\n//     const item = await addInterest(nr_inscricao, nome, telefone);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inscrever interesse.\" });\n//   }\n// });\n\n\nroutes.post(\"/login\", login);\nvar _default = routes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwibG9naW4iLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsImwiLCJqc29uIiwib2siLCJtZXNzYWdlIiwicG9zdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBQ0EsZUFBZUMsS0FBZixDQUFxQkMsR0FBckIsRUFBMEJDLEdBQTFCLEVBQStCO0FBQzdCLFFBQU07QUFBRUMsSUFBQUEsUUFBRjtBQUFZQyxJQUFBQTtBQUFaLE1BQXlCSCxHQUFHLENBQUNJLElBQW5DOztBQUNBLE1BQUlGLFFBQVEsSUFBSUMsUUFBaEIsRUFBMEI7QUFDeEIsVUFBTUUsQ0FBQyxHQUFHLE1BQU1OLEtBQUssQ0FBQ0csUUFBRCxFQUFXQyxRQUFYLENBQXJCO0FBQ0FGLElBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTO0FBQUVDLE1BQUFBLEVBQUUsRUFBRTtBQUFOLEtBQVQ7QUFDRCxHQUhELE1BR087QUFDTE4sSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRUMsTUFBQUEsRUFBRSxFQUFFLEtBQU47QUFBYUMsTUFBQUEsT0FBTyxFQUFFO0FBQXRCLEtBQVQ7QUFDRDtBQUNGLEMsQ0FFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBWixNQUFNLENBQUNhLElBQVAsQ0FBWSxRQUFaLEVBQXNCVixLQUF0QjtlQUVlSCxNIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcblxuY29uc3Qgcm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLy8gLy8gUkVRVUlTScOHw5VFUyBCw4FTSUNBU1xuLy8gYXBwLmdldChcIi9wcm9wZXJ0aWVzXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCBmaWx0ZXIgPSByZXEucXVlcnk7XG4vLyAgIGlmIChmaWx0ZXIpIHtcbi8vICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgZ2V0UHJvcGVydGllc1dpdGhGaWx0ZXIoZmlsdGVyKTtcbi8vICAgICByZXMuanNvbihwcm9wZXJ0aWVzKTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYXdhaXQgZ2V0UHJvcGVydGllcygpO1xuLy8gICAgIHJlcy5qc29uKHByb3BlcnRpZXMpO1xuLy8gICB9XG4vLyB9KTtcblxuLy8gUkVRVUlTSUNPRVMgUEFSQSBVTSBDT1JSRVRPUlxuLy8gcmVxdWlzacOnw6NvIHBhcmEgYXByb3ZhciBsb2dpblxuYXN5bmMgZnVuY3Rpb24gbG9naW4ocmVxLCByZXMpIHtcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICBpZiAodXNlcm5hbWUgJiYgcGFzc3dvcmQpIHtcbiAgICBjb25zdCBsID0gYXdhaXQgbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICByZXMuanNvbih7IG9rOiB0cnVlIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5qc29uKHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlByb2JsZW1hIGFvIGVmZXR1YXIgbG9naW4uXCIgfSk7XG4gIH1cbn1cblxuLy8gLy8gcmVxdWlzacOnw6NvIHBhcmEgZmF6ZXIgdHJvY2EgZGUgc2VuaGFcbi8vIGFwcC5wb3N0KFwiL3Jlc2V0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4vLyAgIGlmICh1c2VybmFtZSAmJiBwYXNzd29yZCkge1xuLy8gICAgIGNvbnN0IGwgPSBhd2FpdCByZXNldCh1c2VybmFtZSwgcGFzc3dvcmQpO1xuLy8gICAgIHJlcy5qc29uKGwpO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIHJlcy5qc29uKHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlByb2JsZW1hIGFvIGF0dWFsaXphciBzZW5oYS5cIiB9KTtcbi8vICAgfVxuLy8gfSk7XG5cbi8vIC8vIHJlcXVpc2nDp8OjbyBwYXJhIGNhZGFzdHJhciBpbcOzdmVsXG4vLyBhcHAucG9zdChcIi9wcm9wZXJ0eVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbi8vICAgY29uc3Qge1xuLy8gICAgIG5ySW5zY3JpY2FvLFxuLy8gICAgIHRpdHVsbyxcbi8vICAgICBpbWcsXG4vLyAgICAgZW5kZXJlY28sXG4vLyAgICAgdGlwbyxcbi8vICAgICBuckRvcm1pdG9yaW9zLFxuLy8gICAgIG5yQmFuaGVpcm9zLFxuLy8gICAgIG5yVmFnYXMsXG4vLyAgICAgdmFsb3IsXG4vLyAgIH0gPSByZXEuYm9keTtcbi8vICAgaWYgKFxuLy8gICAgIG5ySW5zY3JpY2FvICYmXG4vLyAgICAgaW1nICYmXG4vLyAgICAgdGl0dWxvICYmXG4vLyAgICAgZW5kZXJlY28gJiZcbi8vICAgICB0aXBvICYmXG4vLyAgICAgbnJEb3JtaXRvcmlvcyAmJlxuLy8gICAgIG5yQmFuaGVpcm9zICYmXG4vLyAgICAgbnJWYWdhcyAmJlxuLy8gICAgIHZhbG9yXG4vLyAgICkge1xuLy8gICAgIGNvbnN0IHAgPSBhd2FpdCBhZGRQcm9wZXJ0eShcbi8vICAgICAgIG5ySW5zY3JpY2FvLFxuLy8gICAgICAgdGl0dWxvLFxuLy8gICAgICAgaW1nLFxuLy8gICAgICAgZW5kZXJlY28sXG4vLyAgICAgICB0aXBvLFxuLy8gICAgICAgbnJEb3JtaXRvcmlvcyxcbi8vICAgICAgIG5yQmFuaGVpcm9zLFxuLy8gICAgICAgbnJWYWdhcyxcbi8vICAgICAgIHZhbG9yXG4vLyAgICAgKTtcbi8vICAgICBpZiAocCkge1xuLy8gICAgICAgcmVzLmpzb24oeyBvazogdHJ1ZSB9KTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgcmVzLmpzb24oe1xuLy8gICAgICAgICBvazogZmFsc2UsXG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiSsOhIGV4aXN0ZSB1bSBpbcOzdmVsIGNvbSBlc3RlIG7Dum1lcm8gZGUgaW5zY3Jpw6fDo28uXCIsXG4vLyAgICAgICB9KTtcbi8vICAgICB9XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgcmVzLmpzb24oeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiUHJvYmxlbWEgYW8gaW5zZXJpciBpbcOzdmVsLlwiIH0pO1xuLy8gICB9XG4vLyB9KTtcblxuLy8gLy8gcmVxdWlzacOnw6NvIHBhcmEgYWx0ZXJhciBzaXR1YcOnw6NvIGRlIHVtIGltw7N2ZWxcbi8vIGFwcC5wb3N0KFwiL3VwZGF0ZVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbi8vICAgY29uc3QgeyBuckluc2NyaWNhbywgc2l0dWFjYW8gfSA9IHJlcS5ib2R5O1xuLy8gICBpZiAobnJJbnNjcmljYW8gJiYgc2l0dWFjYW8pIHtcbi8vICAgICBjb25zdCBpdGVtID0gYXdhaXQgdXBkYXRlUHJvcGVydHlTdGF0ZShuckluc2NyaWNhbywgc2l0dWFjYW8pO1xuLy8gICAgIHJlcy5qc29uKGl0ZW0pO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIHJlcy5qc29uKHsgb2s6IGZhbHNlLCBtZXNzYWdlOiBcIlByb2JsZW1hIGFvIGF0dWFsaXphciBpbcOzdmVsLlwiIH0pO1xuLy8gICB9XG4vLyB9KTtcblxuLy8gLy8gUkVRVUlTSUNPRVMgUEFSQSBVTSBJTlFVSUxJTk9cbi8vIC8vIHJlcXVpc2nDp8OjbyBwYXJhIG1hbmlmZXN0YXIgaW50ZXJlc3NlIGVtIHVtIGltw7N2ZWxcbi8vIGFwcC5wb3N0KFwiL2ludGVyZXN0XCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCB7IG5vbWUsIHRlbGVmb25lLCBucl9pbnNjcmljYW8gfSA9IHJlcS5ib2R5O1xuLy8gICBpZiAobnJfaW5zY3JpY2FvICYmIHRlbGVmb25lICYmIG5vbWUpIHtcbi8vICAgICBjb25zdCBpdGVtID0gYXdhaXQgYWRkSW50ZXJlc3QobnJfaW5zY3JpY2FvLCBub21lLCB0ZWxlZm9uZSk7XG4vLyAgICAgcmVzLmpzb24oaXRlbSk7XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgcmVzLmpzb24oeyBvazogZmFsc2UsIG1lc3NhZ2U6IFwiUHJvYmxlbWEgYW8gaW5zY3JldmVyIGludGVyZXNzZS5cIiB9KTtcbi8vICAgfVxuLy8gfSk7XG5cbnJvdXRlcy5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVzO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "routes",
        "express",
        "Router",
        "login",
        "req",
        "res",
        "username",
        "password",
        "body",
        "l",
        "json",
        "ok",
        "message",
        "post"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AACA,eAAeC,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;AAC7B,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBH,GAAG,CAACI,IAAnC;;AACA,MAAIF,QAAQ,IAAIC,QAAhB,EAA0B;AACxB,UAAME,CAAC,GAAG,MAAMN,KAAK,CAACG,QAAD,EAAWC,QAAX,CAArB;AACAF,IAAAA,GAAG,CAACK,IAAJ,CAAS;AAAEC,MAAAA,EAAE,EAAE;AAAN,KAAT;AACD,GAHD,MAGO;AACLN,IAAAA,GAAG,CAACK,IAAJ,CAAS;AAAEC,MAAAA,EAAE,EAAE,KAAN;AAAaC,MAAAA,OAAO,EAAE;AAAtB,KAAT;AACD;AACF,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAZ,MAAM,CAACa,IAAP,CAAY,QAAZ,EAAsBV,KAAtB;eAEeH,M",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import express from \"express\";\n\nconst routes = express.Router();\n\n// // REQUISIÇÕES BÁSICAS\n// app.get(\"/properties\", async (req, res) => {\n//   const filter = req.query;\n//   if (filter) {\n//     const properties = await getPropertiesWithFilter(filter);\n//     res.json(properties);\n//   } else {\n//     const properties = await getProperties();\n//     res.json(properties);\n//   }\n// });\n\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\nasync function login(req, res) {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await login(username, password);\n    res.json({ ok: true });\n  } else {\n    res.json({ ok: false, message: \"Problema ao efetuar login.\" });\n  }\n}\n\n// // requisição para fazer troca de senha\n// app.post(\"/reset\", async (req, res) => {\n//   const { username, password } = req.body;\n//   if (username && password) {\n//     const l = await reset(username, password);\n//     res.json(l);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar senha.\" });\n//   }\n// });\n\n// // requisição para cadastrar imóvel\n// app.post(\"/property\", async (req, res) => {\n//   const {\n//     nrInscricao,\n//     titulo,\n//     img,\n//     endereco,\n//     tipo,\n//     nrDormitorios,\n//     nrBanheiros,\n//     nrVagas,\n//     valor,\n//   } = req.body;\n//   if (\n//     nrInscricao &&\n//     img &&\n//     titulo &&\n//     endereco &&\n//     tipo &&\n//     nrDormitorios &&\n//     nrBanheiros &&\n//     nrVagas &&\n//     valor\n//   ) {\n//     const p = await addProperty(\n//       nrInscricao,\n//       titulo,\n//       img,\n//       endereco,\n//       tipo,\n//       nrDormitorios,\n//       nrBanheiros,\n//       nrVagas,\n//       valor\n//     );\n//     if (p) {\n//       res.json({ ok: true });\n//     } else {\n//       res.json({\n//         ok: false,\n//         message: \"Já existe um imóvel com este número de inscrição.\",\n//       });\n//     }\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inserir imóvel.\" });\n//   }\n// });\n\n// // requisição para alterar situação de um imóvel\n// app.post(\"/update\", async (req, res) => {\n//   const { nrInscricao, situacao } = req.body;\n//   if (nrInscricao && situacao) {\n//     const item = await updatePropertyState(nrInscricao, situacao);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao atualizar imóvel.\" });\n//   }\n// });\n\n// // REQUISICOES PARA UM INQUILINO\n// // requisição para manifestar interesse em um imóvel\n// app.post(\"/interest\", async (req, res) => {\n//   const { nome, telefone, nr_inscricao } = req.body;\n//   if (nr_inscricao && telefone && nome) {\n//     const item = await addInterest(nr_inscricao, nome, telefone);\n//     res.json(item);\n//   } else {\n//     res.json({ ok: false, message: \"Problema ao inscrever interesse.\" });\n//   }\n// });\n\nroutes.post(\"/login\", login);\n\nexport default routes;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607617394332
  }
}